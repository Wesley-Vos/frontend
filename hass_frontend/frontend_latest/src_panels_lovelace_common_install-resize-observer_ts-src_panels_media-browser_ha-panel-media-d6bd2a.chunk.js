"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_common_install-resize-observer_ts-src_panels_media-browser_ha-panel-media-d6bd2a"],{

/***/ "./src/common/util/time-cache-entity-promise-func.ts":
/*!***********************************************************!*\
  !*** ./src/common/util/time-cache-entity-promise-func.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"timeCacheEntityPromiseFunc\": () => (/* binding */ timeCacheEntityPromiseFunc)\n/* harmony export */ });\n/**\n * Call a function with result caching per entity.\n * @param cacheKey key to store the cache on hass object\n * @param cacheTime time to cache the results\n * @param func function to fetch the data\n * @param hass Home Assistant object\n * @param entityId entity to fetch data for\n * @param args extra arguments to pass to the function to fetch the data\n * @returns\n */\nconst timeCacheEntityPromiseFunc = async (cacheKey, cacheTime, func, hass, entityId, ...args) => {\n  let cache = hass[cacheKey];\n\n  if (!cache) {\n    cache = hass[cacheKey] = {};\n  }\n\n  const lastResult = cache[entityId];\n\n  if (lastResult) {\n    return lastResult;\n  }\n\n  const result = func(hass, entityId, ...args);\n  cache[entityId] = result;\n  result.then( // When successful, set timer to clear cache\n  () => setTimeout(() => {\n    cache[entityId] = undefined;\n  }, cacheTime), // On failure, clear cache right away\n  () => {\n    cache[entityId] = undefined;\n  });\n  return result;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvdGltZS1jYWNoZS1lbnRpdHktcHJvbWlzZS1mdW5jLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL3V0aWwvdGltZS1jYWNoZS1lbnRpdHktcHJvbWlzZS1mdW5jLnRzP2E4ODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5pbnRlcmZhY2UgUmVzdWx0Q2FjaGU8VD4ge1xuICBbZW50aXR5SWQ6IHN0cmluZ106IFByb21pc2U8VD4gfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2FsbCBhIGZ1bmN0aW9uIHdpdGggcmVzdWx0IGNhY2hpbmcgcGVyIGVudGl0eS5cbiAqIEBwYXJhbSBjYWNoZUtleSBrZXkgdG8gc3RvcmUgdGhlIGNhY2hlIG9uIGhhc3Mgb2JqZWN0XG4gKiBAcGFyYW0gY2FjaGVUaW1lIHRpbWUgdG8gY2FjaGUgdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSBmdW5jIGZ1bmN0aW9uIHRvIGZldGNoIHRoZSBkYXRhXG4gKiBAcGFyYW0gaGFzcyBIb21lIEFzc2lzdGFudCBvYmplY3RcbiAqIEBwYXJhbSBlbnRpdHlJZCBlbnRpdHkgdG8gZmV0Y2ggZGF0YSBmb3JcbiAqIEBwYXJhbSBhcmdzIGV4dHJhIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBmdW5jdGlvbiB0byBmZXRjaCB0aGUgZGF0YVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRpbWVDYWNoZUVudGl0eVByb21pc2VGdW5jID0gYXN5bmMgPFQ+KFxuICBjYWNoZUtleTogc3RyaW5nLFxuICBjYWNoZVRpbWU6IG51bWJlcixcbiAgZnVuYzogKGhhc3M6IEhvbWVBc3Npc3RhbnQsIGVudGl0eUlkOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPFQ+LFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICAuLi5hcmdzOiBhbnlbXVxuKTogUHJvbWlzZTxUPiA9PiB7XG4gIGxldCBjYWNoZTogUmVzdWx0Q2FjaGU8VD4gfCB1bmRlZmluZWQgPSAoaGFzcyBhcyBhbnkpW2NhY2hlS2V5XTtcblxuICBpZiAoIWNhY2hlKSB7XG4gICAgY2FjaGUgPSBoYXNzW2NhY2hlS2V5XSA9IHt9O1xuICB9XG5cbiAgY29uc3QgbGFzdFJlc3VsdCA9IGNhY2hlW2VudGl0eUlkXTtcblxuICBpZiAobGFzdFJlc3VsdCkge1xuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gZnVuYyhoYXNzLCBlbnRpdHlJZCwgLi4uYXJncyk7XG4gIGNhY2hlW2VudGl0eUlkXSA9IHJlc3VsdDtcblxuICByZXN1bHQudGhlbihcbiAgICAvLyBXaGVuIHN1Y2Nlc3NmdWwsIHNldCB0aW1lciB0byBjbGVhciBjYWNoZVxuICAgICgpID0+XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2FjaGUhW2VudGl0eUlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIGNhY2hlVGltZSksXG4gICAgLy8gT24gZmFpbHVyZSwgY2xlYXIgY2FjaGUgcmlnaHQgYXdheVxuICAgICgpID0+IHtcbiAgICAgIGNhY2hlIVtlbnRpdHlJZF0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/util/time-cache-entity-promise-func.ts\n");

/***/ }),

/***/ "./src/data/camera.ts":
/*!****************************!*\
  !*** ./src/data/camera.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CAMERA_SUPPORT_ON_OFF\": () => (/* binding */ CAMERA_SUPPORT_ON_OFF),\n/* harmony export */   \"CAMERA_SUPPORT_STREAM\": () => (/* binding */ CAMERA_SUPPORT_STREAM),\n/* harmony export */   \"STREAM_TYPE_HLS\": () => (/* binding */ STREAM_TYPE_HLS),\n/* harmony export */   \"STREAM_TYPE_WEB_RTC\": () => (/* binding */ STREAM_TYPE_WEB_RTC),\n/* harmony export */   \"computeMJPEGStreamUrl\": () => (/* binding */ computeMJPEGStreamUrl),\n/* harmony export */   \"fetchThumbnailUrlWithCache\": () => (/* binding */ fetchThumbnailUrlWithCache),\n/* harmony export */   \"fetchThumbnailUrl\": () => (/* binding */ fetchThumbnailUrl),\n/* harmony export */   \"fetchStreamUrl\": () => (/* binding */ fetchStreamUrl),\n/* harmony export */   \"handleWebRtcOffer\": () => (/* binding */ handleWebRtcOffer),\n/* harmony export */   \"fetchCameraPrefs\": () => (/* binding */ fetchCameraPrefs),\n/* harmony export */   \"updateCameraPrefs\": () => (/* binding */ updateCameraPrefs),\n/* harmony export */   \"isCameraMediaSource\": () => (/* binding */ isCameraMediaSource),\n/* harmony export */   \"getEntityIdFromCameraMediaSource\": () => (/* binding */ getEntityIdFromCameraMediaSource)\n/* harmony export */ });\n/* harmony import */ var _common_util_time_cache_entity_promise_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/util/time-cache-entity-promise-func */ \"./src/common/util/time-cache-entity-promise-func.ts\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth */ \"./src/data/auth.ts\");\n\n\nconst CAMERA_SUPPORT_ON_OFF = 1;\nconst CAMERA_SUPPORT_STREAM = 2;\nconst STREAM_TYPE_HLS = \"hls\";\nconst STREAM_TYPE_WEB_RTC = \"web_rtc\";\nconst computeMJPEGStreamUrl = entity => `/api/camera_proxy_stream/${entity.entity_id}?token=${entity.attributes.access_token}`;\nconst fetchThumbnailUrlWithCache = async (hass, entityId, width, height) => {\n  const base_url = await (0,_common_util_time_cache_entity_promise_func__WEBPACK_IMPORTED_MODULE_0__.timeCacheEntityPromiseFunc)(\"_cameraTmbUrl\", 9000, fetchThumbnailUrl, hass, entityId);\n  return `${base_url}&width=${width}&height=${height}`;\n};\nconst fetchThumbnailUrl = async (hass, entityId) => {\n  const path = await (0,_auth__WEBPACK_IMPORTED_MODULE_1__.getSignedPath)(hass, `/api/camera_proxy/${entityId}`);\n  return hass.hassUrl(path.path);\n};\nconst fetchStreamUrl = async (hass, entityId, format) => {\n  const data = {\n    type: \"camera/stream\",\n    entity_id: entityId\n  };\n\n  if (format) {\n    // @ts-ignore\n    data.format = format;\n  }\n\n  const stream = await hass.callWS(data);\n  stream.url = hass.hassUrl(stream.url);\n  return stream;\n};\nconst handleWebRtcOffer = (hass, entityId, offer) => hass.callWS({\n  type: \"camera/web_rtc_offer\",\n  entity_id: entityId,\n  offer: offer\n});\nconst fetchCameraPrefs = (hass, entityId) => hass.callWS({\n  type: \"camera/get_prefs\",\n  entity_id: entityId\n});\nconst updateCameraPrefs = (hass, entityId, prefs) => hass.callWS({\n  type: \"camera/update_prefs\",\n  entity_id: entityId,\n  ...prefs\n});\nconst CAMERA_MEDIA_SOURCE_PREFIX = \"media-source://camera/\";\nconst isCameraMediaSource = mediaContentId => mediaContentId.startsWith(CAMERA_MEDIA_SOURCE_PREFIX);\nconst getEntityIdFromCameraMediaSource = mediaContentId => mediaContentId.substring(CAMERA_MEDIA_SOURCE_PREFIX.length);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9jYW1lcmEudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBK0JBO0FBR0E7QUFNQTtBQU9BO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRkE7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFFQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9jYW1lcmEudHM/MDg2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBIYXNzRW50aXR5QXR0cmlidXRlQmFzZSxcbiAgSGFzc0VudGl0eUJhc2UsXG59IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IHRpbWVDYWNoZUVudGl0eVByb21pc2VGdW5jIH0gZnJvbSBcIi4uL2NvbW1vbi91dGlsL3RpbWUtY2FjaGUtZW50aXR5LXByb21pc2UtZnVuY1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0U2lnbmVkUGF0aCB9IGZyb20gXCIuL2F1dGhcIjtcblxuZXhwb3J0IGNvbnN0IENBTUVSQV9TVVBQT1JUX09OX09GRiA9IDE7XG5leHBvcnQgY29uc3QgQ0FNRVJBX1NVUFBPUlRfU1RSRUFNID0gMjtcblxuZXhwb3J0IGNvbnN0IFNUUkVBTV9UWVBFX0hMUyA9IFwiaGxzXCI7XG5leHBvcnQgY29uc3QgU1RSRUFNX1RZUEVfV0VCX1JUQyA9IFwid2ViX3J0Y1wiO1xuXG5pbnRlcmZhY2UgQ2FtZXJhRW50aXR5QXR0cmlidXRlcyBleHRlbmRzIEhhc3NFbnRpdHlBdHRyaWJ1dGVCYXNlIHtcbiAgbW9kZWxfbmFtZTogc3RyaW5nO1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgYnJhbmQ6IHN0cmluZztcbiAgbW90aW9uX2RldGVjdGlvbjogYm9vbGVhbjtcbiAgZnJvbnRlbmRfc3RyZWFtX3R5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFFbnRpdHkgZXh0ZW5kcyBIYXNzRW50aXR5QmFzZSB7XG4gIGF0dHJpYnV0ZXM6IENhbWVyYUVudGl0eUF0dHJpYnV0ZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhUHJlZmVyZW5jZXMge1xuICBwcmVsb2FkX3N0cmVhbTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFUaHVtYm5haWwge1xuICBjb250ZW50X3R5cGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbSB7XG4gIHVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdlYlJ0Y0Fuc3dlciB7XG4gIGFuc3dlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgY29tcHV0ZU1KUEVHU3RyZWFtVXJsID0gKGVudGl0eTogQ2FtZXJhRW50aXR5KSA9PlxuICBgL2FwaS9jYW1lcmFfcHJveHlfc3RyZWFtLyR7ZW50aXR5LmVudGl0eV9pZH0/dG9rZW49JHtlbnRpdHkuYXR0cmlidXRlcy5hY2Nlc3NfdG9rZW59YDtcblxuZXhwb3J0IGNvbnN0IGZldGNoVGh1bWJuYWlsVXJsV2l0aENhY2hlID0gYXN5bmMgKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlclxuKSA9PiB7XG4gIGNvbnN0IGJhc2VfdXJsID0gYXdhaXQgdGltZUNhY2hlRW50aXR5UHJvbWlzZUZ1bmMoXG4gICAgXCJfY2FtZXJhVG1iVXJsXCIsXG4gICAgOTAwMCxcbiAgICBmZXRjaFRodW1ibmFpbFVybCxcbiAgICBoYXNzLFxuICAgIGVudGl0eUlkXG4gICk7XG4gIHJldHVybiBgJHtiYXNlX3VybH0md2lkdGg9JHt3aWR0aH0maGVpZ2h0PSR7aGVpZ2h0fWA7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUaHVtYm5haWxVcmwgPSBhc3luYyAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmdcbikgPT4ge1xuICBjb25zdCBwYXRoID0gYXdhaXQgZ2V0U2lnbmVkUGF0aChoYXNzLCBgL2FwaS9jYW1lcmFfcHJveHkvJHtlbnRpdHlJZH1gKTtcbiAgcmV0dXJuIGhhc3MuaGFzc1VybChwYXRoLnBhdGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoU3RyZWFtVXJsID0gYXN5bmMgKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICBmb3JtYXQ/OiBcImhsc1wiXG4pID0+IHtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICB0eXBlOiBcImNhbWVyYS9zdHJlYW1cIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICB9O1xuICBpZiAoZm9ybWF0KSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGRhdGEuZm9ybWF0ID0gZm9ybWF0O1xuICB9XG4gIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGhhc3MuY2FsbFdTPFN0cmVhbT4oZGF0YSk7XG4gIHN0cmVhbS51cmwgPSBoYXNzLmhhc3NVcmwoc3RyZWFtLnVybCk7XG4gIHJldHVybiBzdHJlYW07XG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlV2ViUnRjT2ZmZXIgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmcsXG4gIG9mZmVyOiBzdHJpbmdcbikgPT5cbiAgaGFzcy5jYWxsV1M8V2ViUnRjQW5zd2VyPih7XG4gICAgdHlwZTogXCJjYW1lcmEvd2ViX3J0Y19vZmZlclwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gICAgb2ZmZXI6IG9mZmVyLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQ2FtZXJhUHJlZnMgPSAoaGFzczogSG9tZUFzc2lzdGFudCwgZW50aXR5SWQ6IHN0cmluZykgPT5cbiAgaGFzcy5jYWxsV1M8Q2FtZXJhUHJlZmVyZW5jZXM+KHtcbiAgICB0eXBlOiBcImNhbWVyYS9nZXRfcHJlZnNcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNhbWVyYVByZWZzID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICBwcmVmczoge1xuICAgIHByZWxvYWRfc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuKSA9PlxuICBoYXNzLmNhbGxXUzxDYW1lcmFQcmVmZXJlbmNlcz4oe1xuICAgIHR5cGU6IFwiY2FtZXJhL3VwZGF0ZV9wcmVmc1wiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gICAgLi4ucHJlZnMsXG4gIH0pO1xuXG5jb25zdCBDQU1FUkFfTUVESUFfU09VUkNFX1BSRUZJWCA9IFwibWVkaWEtc291cmNlOi8vY2FtZXJhL1wiO1xuXG5leHBvcnQgY29uc3QgaXNDYW1lcmFNZWRpYVNvdXJjZSA9IChtZWRpYUNvbnRlbnRJZDogc3RyaW5nKSA9PlxuICBtZWRpYUNvbnRlbnRJZC5zdGFydHNXaXRoKENBTUVSQV9NRURJQV9TT1VSQ0VfUFJFRklYKTtcblxuZXhwb3J0IGNvbnN0IGdldEVudGl0eUlkRnJvbUNhbWVyYU1lZGlhU291cmNlID0gKG1lZGlhQ29udGVudElkOiBzdHJpbmcpID0+XG4gIG1lZGlhQ29udGVudElkLnN1YnN0cmluZyhDQU1FUkFfTUVESUFfU09VUkNFX1BSRUZJWC5sZW5ndGgpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/camera.ts\n");

/***/ }),

/***/ "./src/dialogs/generic/show-dialog-box.ts":
/*!************************************************!*\
  !*** ./src/dialogs/generic/show-dialog-box.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadGenericDialog\": () => (/* binding */ loadGenericDialog),\n/* harmony export */   \"showAlertDialog\": () => (/* binding */ showAlertDialog),\n/* harmony export */   \"showConfirmationDialog\": () => (/* binding */ showConfirmationDialog),\n/* harmony export */   \"showPromptDialog\": () => (/* binding */ showPromptDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst loadGenericDialog = () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-floating-label_mwc-floating-label-directive_js-node_modules-1dc920\"), __webpack_require__.e(\"vendors-node_modules_material_mwc-textfield_mwc-textfield-base_js-node_modules_material_mwc-t-32f0d5\"), __webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"vendors-node_modules_material_mwc-base_form-element_js-node_modules_material_mwc-base_observe-82b9c1\"), __webpack_require__.e(\"vendors-node_modules_material_mwc-switch_deprecated_mwc-switch-base_js-node_modules_material_-30b9a7\"), __webpack_require__.e(\"src_components_ha-textfield_ts\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_components_ha-switch_ts\"), __webpack_require__.e(\"src_common_util_compute_rtl_ts-src_dialogs_generic_dialog-box_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-box */ \"./src/dialogs/generic/dialog-box.ts\"));\n\nconst showDialogHelper = (element, dialogParams, extra) => new Promise(resolve => {\n  const origCancel = dialogParams.cancel;\n  const origConfirm = dialogParams.confirm;\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"dialog-box\",\n    dialogImport: loadGenericDialog,\n    dialogParams: { ...dialogParams,\n      ...extra,\n      cancel: () => {\n        resolve(extra !== null && extra !== void 0 && extra.prompt ? null : false);\n\n        if (origCancel) {\n          origCancel();\n        }\n      },\n      confirm: out => {\n        resolve(extra !== null && extra !== void 0 && extra.prompt ? out : true);\n\n        if (origConfirm) {\n          origConfirm(out);\n        }\n      }\n    }\n  });\n});\n\nconst showAlertDialog = (element, dialogParams) => showDialogHelper(element, dialogParams);\nconst showConfirmationDialog = (element, dialogParams) => showDialogHelper(element, dialogParams, {\n  confirmation: true\n});\nconst showPromptDialog = (element, dialogParams) => showDialogHelper(element, dialogParams, {\n  prompt: true\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBa0NBOztBQUVBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBSEE7QUFvQkE7O0FBRUE7QUFLQTtBQUtBO0FBREE7QUFJQTtBQUlBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kaWFsb2dzL2dlbmVyaWMvc2hvdy1kaWFsb2ctYm94LnRzPzRlOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5cbmludGVyZmFjZSBCYXNlRGlhbG9nQm94UGFyYW1zIHtcbiAgY29uZmlybVRleHQ/OiBzdHJpbmc7XG4gIHRleHQ/OiBzdHJpbmcgfCBUZW1wbGF0ZVJlc3VsdDtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHdhcm5pbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFsZXJ0RGlhbG9nUGFyYW1zIGV4dGVuZHMgQmFzZURpYWxvZ0JveFBhcmFtcyB7XG4gIGNvbmZpcm0/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpcm1hdGlvbkRpYWxvZ1BhcmFtcyBleHRlbmRzIEJhc2VEaWFsb2dCb3hQYXJhbXMge1xuICBkaXNtaXNzVGV4dD86IHN0cmluZztcbiAgY29uZmlybT86ICgpID0+IHZvaWQ7XG4gIGNhbmNlbD86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0RGlhbG9nUGFyYW1zIGV4dGVuZHMgQmFzZURpYWxvZ0JveFBhcmFtcyB7XG4gIGlucHV0TGFiZWw/OiBzdHJpbmc7XG4gIGlucHV0VHlwZT86IHN0cmluZztcbiAgZGVmYXVsdFZhbHVlPzogc3RyaW5nO1xuICBjb25maXJtPzogKG91dD86IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dCb3hQYXJhbXNcbiAgZXh0ZW5kcyBDb25maXJtYXRpb25EaWFsb2dQYXJhbXMsXG4gICAgUHJvbXB0RGlhbG9nUGFyYW1zIHtcbiAgY29uZmlybT86IChvdXQ/OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNvbmZpcm1hdGlvbj86IGJvb2xlYW47XG4gIHByb21wdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBsb2FkR2VuZXJpY0RpYWxvZyA9ICgpID0+IGltcG9ydChcIi4vZGlhbG9nLWJveFwiKTtcblxuY29uc3Qgc2hvd0RpYWxvZ0hlbHBlciA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGRpYWxvZ1BhcmFtczogRGlhbG9nQm94UGFyYW1zLFxuICBleHRyYT86IHtcbiAgICBjb25maXJtYXRpb24/OiBEaWFsb2dCb3hQYXJhbXNbXCJjb25maXJtYXRpb25cIl07XG4gICAgcHJvbXB0PzogRGlhbG9nQm94UGFyYW1zW1wicHJvbXB0XCJdO1xuICB9XG4pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3Qgb3JpZ0NhbmNlbCA9IGRpYWxvZ1BhcmFtcy5jYW5jZWw7XG4gICAgY29uc3Qgb3JpZ0NvbmZpcm0gPSBkaWFsb2dQYXJhbXMuY29uZmlybTtcblxuICAgIGZpcmVFdmVudChlbGVtZW50LCBcInNob3ctZGlhbG9nXCIsIHtcbiAgICAgIGRpYWxvZ1RhZzogXCJkaWFsb2ctYm94XCIsXG4gICAgICBkaWFsb2dJbXBvcnQ6IGxvYWRHZW5lcmljRGlhbG9nLFxuICAgICAgZGlhbG9nUGFyYW1zOiB7XG4gICAgICAgIC4uLmRpYWxvZ1BhcmFtcyxcbiAgICAgICAgLi4uZXh0cmEsXG4gICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZXh0cmE/LnByb21wdCA/IG51bGwgOiBmYWxzZSk7XG4gICAgICAgICAgaWYgKG9yaWdDYW5jZWwpIHtcbiAgICAgICAgICAgIG9yaWdDYW5jZWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpcm06IChvdXQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGV4dHJhPy5wcm9tcHQgPyBvdXQgOiB0cnVlKTtcbiAgICAgICAgICBpZiAob3JpZ0NvbmZpcm0pIHtcbiAgICAgICAgICAgIG9yaWdDb25maXJtKG91dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBzaG93QWxlcnREaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IEFsZXJ0RGlhbG9nUGFyYW1zXG4pID0+IHNob3dEaWFsb2dIZWxwZXIoZWxlbWVudCwgZGlhbG9nUGFyYW1zKTtcblxuZXhwb3J0IGNvbnN0IHNob3dDb25maXJtYXRpb25EaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IENvbmZpcm1hdGlvbkRpYWxvZ1BhcmFtc1xuKSA9PlxuICBzaG93RGlhbG9nSGVscGVyKGVsZW1lbnQsIGRpYWxvZ1BhcmFtcywge1xuICAgIGNvbmZpcm1hdGlvbjogdHJ1ZSxcbiAgfSkgYXMgUHJvbWlzZTxib29sZWFuPjtcblxuZXhwb3J0IGNvbnN0IHNob3dQcm9tcHREaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IFByb21wdERpYWxvZ1BhcmFtc1xuKSA9PlxuICBzaG93RGlhbG9nSGVscGVyKGVsZW1lbnQsIGRpYWxvZ1BhcmFtcywgeyBwcm9tcHQ6IHRydWUgfSkgYXMgUHJvbWlzZTxcbiAgICBudWxsIHwgc3RyaW5nXG4gID47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dialogs/generic/show-dialog-box.ts\n");

/***/ }),

/***/ "./src/layouts/ha-app-layout.js":
/*!**************************************!*\
  !*** ./src/layouts/ha-app-layout.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_app_layout_app_header_layout_app_header_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/app-layout/app-header-layout/app-header-layout */ \"./node_modules/@polymer/app-layout/app-header-layout/app-header-layout.js\");\n/* harmony import */ var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/polymer/lib/utils/html-tag */ \"./node_modules/@polymer/polymer/lib/utils/html-tag.js\");\n/* harmony import */ var _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/polymer/polymer-element */ \"./node_modules/@polymer/polymer/polymer-element.js\");\n/* eslint-plugin-disable lit */\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nThis code is copied from app-header-layout.\n'fullbleed' support is removed as Home Assisstant doesn't use it.\ntransform: translate(0) is added.\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n\n\n\nclass HaAppLayout extends customElements.get(\"app-header-layout\") {\n  static get template() {\n    return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_1__.html`\n      <style>\n        :host {\n          display: block;\n          /**\n         * Force app-header-layout to have its own stacking context so that its parent can\n         * control the stacking of it relative to other elements (e.g. app-drawer-layout).\n         * This could be done using \\`isolation: isolate\\`, but that's not well supported\n         * across browsers.\n         */\n          position: relative;\n          z-index: 0;\n        }\n\n        #wrapper ::slotted([slot=\"header\"]) {\n          @apply --layout-fixed-top;\n          z-index: 1;\n        }\n\n        #wrapper.initializing ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) {\n          height: 100%;\n        }\n\n        :host([has-scrolling-region]) #wrapper ::slotted([slot=\"header\"]) {\n          position: absolute;\n        }\n\n        :host([has-scrolling-region])\n          #wrapper.initializing\n          ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) #wrapper #contentContainer {\n          @apply --layout-fit;\n          overflow-y: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        :host([has-scrolling-region]) #wrapper.initializing #contentContainer {\n          position: relative;\n        }\n\n        #contentContainer {\n          /* Create a stacking context here so that all children appear below the header. */\n          position: relative;\n          z-index: 0;\n          /* Using 'transform' will cause 'position: fixed' elements to behave like\n           'position: absolute' relative to this element. */\n          transform: translate(0);\n          margin-left: env(safe-area-inset-left);\n          margin-right: env(safe-area-inset-right);\n        }\n\n        @media print {\n          :host([has-scrolling-region]) #wrapper #contentContainer {\n            overflow-y: visible;\n          }\n        }\n      </style>\n\n      <div id=\"wrapper\" class=\"initializing\">\n        <slot id=\"headerSlot\" name=\"header\"></slot>\n\n        <div id=\"contentContainer\"><slot></slot></div>\n        <slot id=\"fab\" name=\"fab\"></slot>\n      </div>\n    `;\n  }\n\n}\n\ncustomElements.define(\"ha-app-layout\", HaAppLayout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGF5b3V0cy9oYS1hcHAtbGF5b3V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExRUE7O0FBNEVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvbGF5b3V0cy9oYS1hcHAtbGF5b3V0LmpzPzliNGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LXBsdWdpbi1kaXNhYmxlIGxpdCAqL1xuLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qXG5UaGlzIGNvZGUgaXMgY29waWVkIGZyb20gYXBwLWhlYWRlci1sYXlvdXQuXG4nZnVsbGJsZWVkJyBzdXBwb3J0IGlzIHJlbW92ZWQgYXMgSG9tZSBBc3Npc3N0YW50IGRvZXNuJ3QgdXNlIGl0LlxudHJhbnNmb3JtOiB0cmFuc2xhdGUoMCkgaXMgYWRkZWQuXG4qL1xuLypcbiAgRklYTUUocG9seW1lci1tb2R1bGl6ZXIpOiB0aGUgYWJvdmUgY29tbWVudHMgd2VyZSBleHRyYWN0ZWRcbiAgZnJvbSBIVE1MIGFuZCBtYXkgYmUgb3V0IG9mIHBsYWNlIGhlcmUuIFJldmlldyB0aGVtIGFuZFxuICB0aGVuIGRlbGV0ZSB0aGlzIGNvbW1lbnQhXG4qL1xuaW1wb3J0IFwiQHBvbHltZXIvYXBwLWxheW91dC9hcHAtaGVhZGVyLWxheW91dC9hcHAtaGVhZGVyLWxheW91dFwiO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZ1wiO1xuaW1wb3J0IFwiQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnRcIjtcblxuY2xhc3MgSGFBcHBMYXlvdXQgZXh0ZW5kcyBjdXN0b21FbGVtZW50cy5nZXQoXCJhcHAtaGVhZGVyLWxheW91dFwiKSB7XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAvKipcbiAgICAgICAgICogRm9yY2UgYXBwLWhlYWRlci1sYXlvdXQgdG8gaGF2ZSBpdHMgb3duIHN0YWNraW5nIGNvbnRleHQgc28gdGhhdCBpdHMgcGFyZW50IGNhblxuICAgICAgICAgKiBjb250cm9sIHRoZSBzdGFja2luZyBvZiBpdCByZWxhdGl2ZSB0byBvdGhlciBlbGVtZW50cyAoZS5nLiBhcHAtZHJhd2VyLWxheW91dCkuXG4gICAgICAgICAqIFRoaXMgY291bGQgYmUgZG9uZSB1c2luZyBcXGBpc29sYXRpb246IGlzb2xhdGVcXGAsIGJ1dCB0aGF0J3Mgbm90IHdlbGwgc3VwcG9ydGVkXG4gICAgICAgICAqIGFjcm9zcyBicm93c2Vycy5cbiAgICAgICAgICovXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAjd3JhcHBlciA6OnNsb3R0ZWQoW3Nsb3Q9XCJoZWFkZXJcIl0pIHtcbiAgICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZml4ZWQtdG9wO1xuICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAjd3JhcHBlci5pbml0aWFsaXppbmcgOjpzbG90dGVkKFtzbG90PVwiaGVhZGVyXCJdKSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KFtoYXMtc2Nyb2xsaW5nLXJlZ2lvbl0pICN3cmFwcGVyIDo6c2xvdHRlZChbc2xvdD1cImhlYWRlclwiXSkge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KFtoYXMtc2Nyb2xsaW5nLXJlZ2lvbl0pXG4gICAgICAgICAgI3dyYXBwZXIuaW5pdGlhbGl6aW5nXG4gICAgICAgICAgOjpzbG90dGVkKFtzbG90PVwiaGVhZGVyXCJdKSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkgI3dyYXBwZXIgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgIEBhcHBseSAtLWxheW91dC1maXQ7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdChbaGFzLXNjcm9sbGluZy1yZWdpb25dKSAjd3JhcHBlci5pbml0aWFsaXppbmcgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICNjb250ZW50Q29udGFpbmVyIHtcbiAgICAgICAgICAvKiBDcmVhdGUgYSBzdGFja2luZyBjb250ZXh0IGhlcmUgc28gdGhhdCBhbGwgY2hpbGRyZW4gYXBwZWFyIGJlbG93IHRoZSBoZWFkZXIuICovXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgICAgLyogVXNpbmcgJ3RyYW5zZm9ybScgd2lsbCBjYXVzZSAncG9zaXRpb246IGZpeGVkJyBlbGVtZW50cyB0byBiZWhhdmUgbGlrZVxuICAgICAgICAgICAncG9zaXRpb246IGFic29sdXRlJyByZWxhdGl2ZSB0byB0aGlzIGVsZW1lbnQuICovXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCk7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCk7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiBlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSBwcmludCB7XG4gICAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkgI3dyYXBwZXIgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogdmlzaWJsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG5cbiAgICAgIDxkaXYgaWQ9XCJ3cmFwcGVyXCIgY2xhc3M9XCJpbml0aWFsaXppbmdcIj5cbiAgICAgICAgPHNsb3QgaWQ9XCJoZWFkZXJTbG90XCIgbmFtZT1cImhlYWRlclwiPjwvc2xvdD5cblxuICAgICAgICA8ZGl2IGlkPVwiY29udGVudENvbnRhaW5lclwiPjxzbG90Pjwvc2xvdD48L2Rpdj5cbiAgICAgICAgPHNsb3QgaWQ9XCJmYWJcIiBuYW1lPVwiZmFiXCI+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaGEtYXBwLWxheW91dFwiLCBIYUFwcExheW91dCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/layouts/ha-app-layout.js\n");

/***/ }),

/***/ "./src/panels/lovelace/common/install-resize-observer.ts":
/*!***************************************************************!*\
  !*** ./src/panels/lovelace/common/install-resize-observer.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"installResizeObserver\": () => (/* binding */ installResizeObserver)\n/* harmony export */ });\nconst installResizeObserver = async () => {\n  if (typeof ResizeObserver !== \"function\") {\n    window.ResizeObserver = (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_resize-observer-polyfill_dist_ResizeObserver_es_js\").then(__webpack_require__.bind(__webpack_require__, /*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"))).default;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NvbW1vbi9pbnN0YWxsLXJlc2l6ZS1vYnNlcnZlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jb21tb24vaW5zdGFsbC1yZXNpemUtb2JzZXJ2ZXIudHM/NjQyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5zdGFsbFJlc2l6ZU9ic2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgPSAoYXdhaXQgaW1wb3J0KFwicmVzaXplLW9ic2VydmVyLXBvbHlmaWxsXCIpKS5kZWZhdWx0O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/common/install-resize-observer.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/browser-media-player.ts":
/*!**********************************************************!*\
  !*** ./src/panels/media-browser/browser-media-player.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERR_UNSUPPORTED_MEDIA\": () => (/* binding */ ERR_UNSUPPORTED_MEDIA),\n/* harmony export */   \"BrowserMediaPlayer\": () => (/* binding */ BrowserMediaPlayer)\n/* harmony export */ });\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst ERR_UNSUPPORTED_MEDIA = \"Unsupported Media\";\nclass BrowserMediaPlayer {\n  // We pretend we're playing while still buffering.\n  constructor(hass, item, resolved, volume, onChange) {\n    this.hass = hass;\n    this.item = item;\n    this.resolved = resolved;\n    this.onChange = onChange;\n\n    _defineProperty(this, \"player\", void 0);\n\n    _defineProperty(this, \"buffering\", true);\n\n    _defineProperty(this, \"_removed\", false);\n\n    _defineProperty(this, \"_handleChange\", () => {\n      if (!this._removed) {\n        this.onChange();\n      }\n    });\n\n    const player = new Audio(this.resolved.url);\n\n    if (player.canPlayType(resolved.mime_type) === \"\") {\n      throw new Error(ERR_UNSUPPORTED_MEDIA);\n    }\n\n    player.autoplay = true;\n    player.volume = volume;\n    player.addEventListener(\"play\", this._handleChange);\n    player.addEventListener(\"playing\", () => {\n      this.buffering = false;\n\n      this._handleChange();\n    });\n    player.addEventListener(\"pause\", this._handleChange);\n    player.addEventListener(\"ended\", this._handleChange);\n    player.addEventListener(\"canplaythrough\", this._handleChange);\n    this.player = player;\n  }\n\n  pause() {\n    this.buffering = false;\n    this.player.pause();\n  }\n\n  play() {\n    this.player.play();\n  }\n\n  setVolume(volume) {\n    this.player.volume = volume;\n    this.onChange();\n  }\n\n  remove() {\n    this._removed = true; // @ts-ignore\n\n    this.onChange = undefined;\n\n    if (this.player) {\n      this.player.pause();\n    }\n  }\n\n  get isPlaying() {\n    return this.buffering || !this.player.paused && !this.player.ended;\n  }\n\n  static idleStateObj() {\n    const now = new Date().toISOString();\n    return {\n      state: \"idle\",\n      entity_id: _data_media_player__WEBPACK_IMPORTED_MODULE_0__.BROWSER_PLAYER,\n      last_changed: now,\n      last_updated: now,\n      attributes: {},\n      context: {\n        id: \"\",\n        user_id: null,\n        parent_id: null\n      }\n    };\n  }\n\n  toStateObj() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\n    const base = BrowserMediaPlayer.idleStateObj();\n    base.state = this.isPlaying ? \"playing\" : \"paused\";\n    base.attributes = {\n      media_title: this.item.title,\n      entity_picture: this.item.thumbnail,\n      volume_level: this.player.volume,\n      // eslint-disable-next-line no-bitwise\n      supported_features: _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_PLAY | _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_PAUSE | _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_VOLUME_SET\n    };\n\n    if (this.player.duration) {\n      base.attributes.media_duration = this.player.duration;\n      base.attributes.media_position = this.player.currentTime;\n      base.attributes.media_position_updated_at = base.last_updated;\n    }\n\n    return base;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvYnJvd3Nlci1tZWRpYS1wbGF5ZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQVdBO0FBRUE7QUFHQTtBQUtBO0FBTUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7O0FBckJBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU5BO0FBUUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBL0ZBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvYnJvd3Nlci1tZWRpYS1wbGF5ZXIudHM/ODU4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCUk9XU0VSX1BMQVlFUixcbiAgTWVkaWFQbGF5ZXJFbnRpdHksXG4gIE1lZGlhUGxheWVySXRlbSxcbiAgU1VQUE9SVF9QQVVTRSxcbiAgU1VQUE9SVF9QTEFZLFxuICBTVVBQT1JUX1ZPTFVNRV9TRVQsXG59IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhLXBsYXllclwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRNZWRpYVNvdXJjZSB9IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhX3NvdXJjZVwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgRVJSX1VOU1VQUE9SVEVEX01FRElBID0gXCJVbnN1cHBvcnRlZCBNZWRpYVwiO1xuXG5leHBvcnQgY2xhc3MgQnJvd3Nlck1lZGlhUGxheWVyIHtcbiAgcHJpdmF0ZSBwbGF5ZXI6IEhUTUxBdWRpb0VsZW1lbnQ7XG5cbiAgLy8gV2UgcHJldGVuZCB3ZSdyZSBwbGF5aW5nIHdoaWxlIHN0aWxsIGJ1ZmZlcmluZy5cbiAgcHVibGljIGJ1ZmZlcmluZyA9IHRydWU7XG5cbiAgcHJpdmF0ZSBfcmVtb3ZlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBoYXNzOiBIb21lQXNzaXN0YW50LFxuICAgIHB1YmxpYyBpdGVtOiBNZWRpYVBsYXllckl0ZW0sXG4gICAgcHVibGljIHJlc29sdmVkOiBSZXNvbHZlZE1lZGlhU291cmNlLFxuICAgIHZvbHVtZTogbnVtYmVyLFxuICAgIHByaXZhdGUgb25DaGFuZ2U6ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGxheWVyID0gbmV3IEF1ZGlvKHRoaXMucmVzb2x2ZWQudXJsKTtcbiAgICBpZiAocGxheWVyLmNhblBsYXlUeXBlKHJlc29sdmVkLm1pbWVfdHlwZSkgPT09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihFUlJfVU5TVVBQT1JURURfTUVESUEpO1xuICAgIH1cbiAgICBwbGF5ZXIuYXV0b3BsYXkgPSB0cnVlO1xuICAgIHBsYXllci52b2x1bWUgPSB2b2x1bWU7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsIHRoaXMuX2hhbmRsZUNoYW5nZSk7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsICgpID0+IHtcbiAgICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoKTtcbiAgICB9KTtcbiAgICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsIHRoaXMuX2hhbmRsZUNoYW5nZSk7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLl9oYW5kbGVDaGFuZ2UpO1xuICAgIHBsYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIiwgdGhpcy5faGFuZGxlQ2hhbmdlKTtcbiAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuX3JlbW92ZWQpIHtcbiAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgcHVibGljIHBhdXNlKCkge1xuICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcbiAgfVxuXG4gIHB1YmxpYyBwbGF5KCkge1xuICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLnBsYXllci52b2x1bWUgPSB2b2x1bWU7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZSgpIHtcbiAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5vbkNoYW5nZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5wbGF5ZXIpIHtcbiAgICAgIHRoaXMucGxheWVyLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldCBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyaW5nIHx8ICghdGhpcy5wbGF5ZXIucGF1c2VkICYmICF0aGlzLnBsYXllci5lbmRlZCk7XG4gIH1cblxuICBzdGF0aWMgaWRsZVN0YXRlT2JqKCk6IE1lZGlhUGxheWVyRW50aXR5IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiBcImlkbGVcIixcbiAgICAgIGVudGl0eV9pZDogQlJPV1NFUl9QTEFZRVIsXG4gICAgICBsYXN0X2NoYW5nZWQ6IG5vdyxcbiAgICAgIGxhc3RfdXBkYXRlZDogbm93LFxuICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICBjb250ZXh0OiB7IGlkOiBcIlwiLCB1c2VyX2lkOiBudWxsLCBwYXJlbnRfaWQ6IG51bGwgfSxcbiAgICB9O1xuICB9XG5cbiAgdG9TdGF0ZU9iaigpOiBNZWRpYVBsYXllckVudGl0eSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnRcbiAgICBjb25zdCBiYXNlID0gQnJvd3Nlck1lZGlhUGxheWVyLmlkbGVTdGF0ZU9iaigpO1xuICAgIGJhc2Uuc3RhdGUgPSB0aGlzLmlzUGxheWluZyA/IFwicGxheWluZ1wiIDogXCJwYXVzZWRcIjtcbiAgICBiYXNlLmF0dHJpYnV0ZXMgPSB7XG4gICAgICBtZWRpYV90aXRsZTogdGhpcy5pdGVtLnRpdGxlLFxuICAgICAgZW50aXR5X3BpY3R1cmU6IHRoaXMuaXRlbS50aHVtYm5haWwsXG4gICAgICB2b2x1bWVfbGV2ZWw6IHRoaXMucGxheWVyLnZvbHVtZSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICBzdXBwb3J0ZWRfZmVhdHVyZXM6IFNVUFBPUlRfUExBWSB8IFNVUFBPUlRfUEFVU0UgfCBTVVBQT1JUX1ZPTFVNRV9TRVQsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnBsYXllci5kdXJhdGlvbikge1xuICAgICAgYmFzZS5hdHRyaWJ1dGVzLm1lZGlhX2R1cmF0aW9uID0gdGhpcy5wbGF5ZXIuZHVyYXRpb247XG4gICAgICBiYXNlLmF0dHJpYnV0ZXMubWVkaWFfcG9zaXRpb24gPSB0aGlzLnBsYXllci5jdXJyZW50VGltZTtcbiAgICAgIGJhc2UuYXR0cmlidXRlcy5tZWRpYV9wb3NpdGlvbl91cGRhdGVkX2F0ID0gYmFzZS5sYXN0X3VwZGF0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBiYXNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/media-browser/browser-media-player.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/ha-bar-media-player.ts":
/*!*********************************************************!*\
  !*** ./src/panels/media-browser/ha-bar-media-player.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BarMediaPlayer\": () => (/* binding */ BarMediaPlayer)\n/* harmony export */ });\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var _material_mwc_linear_progress_mwc_linear_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-linear-progress/mwc-linear-progress */ \"./node_modules/@material/mwc-linear-progress/mwc-linear-progress.js\");\n/* harmony import */ var _material_mwc_list_mwc_list_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-list/mwc-list-item */ \"./node_modules/@material/mwc-list/mwc-list-item.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_until__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/until */ \"./node_modules/lit/directives/until.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/entity/domain_icon */ \"./src/common/entity/domain_icon.ts\");\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _lovelace_components_hui_marquee__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../lovelace/components/hui-marquee */ \"./src/panels/lovelace/components/hui-marquee.ts\");\n/* harmony import */ var _browser_media_player__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./browser-media-player */ \"./src/panels/media-browser/browser-media-player.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nconst mdiChevronDown = \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\";\nconst mdiMonitor = \"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z\";\nconst mdiPause = \"M14,19H18V5H14M6,19H10V5H6V19Z\";\nconst mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nconst mdiPlayPause = \"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5\";\nconst mdiStop = \"M18,18H6V6H18V18Z\";\nconst mdiVolumeHigh = \"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet BarMediaPlayer = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-bar-media-player\")], function (_initialize, _LitElement) {\n  class BarMediaPlayer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: BarMediaPlayer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"mwc-linear-progress\")],\n      key: \"_progressBar\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"#CurrentProgress\")],\n      key: \"_currentProgress\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_marqueeActive\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_newMediaExpected\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_browserPlayer\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_progressInterval\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_browserPlayerVolume\",\n\n      value() {\n        return 0.8;\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"connectedCallback\", this).call(this);\n\n        const stateObj = this._stateObj;\n\n        if (!stateObj) {\n          return;\n        }\n\n        if (!this._progressInterval && this._showProgressBar && stateObj.state === \"playing\") {\n          this._progressInterval = window.setInterval(() => this._updateProgressBar(), 1000);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        if (this._progressInterval) {\n          clearInterval(this._progressInterval);\n          this._progressInterval = undefined;\n        }\n\n        this._tearDownBrowserPlayer();\n      }\n    }, {\n      kind: \"method\",\n      key: \"showResolvingNewMediaPicked\",\n      value: function showResolvingNewMediaPicked() {\n        this._tearDownBrowserPlayer();\n\n        this._newMediaExpected = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"hideResolvingNewMediaPicked\",\n      value: function hideResolvingNewMediaPicked() {\n        this._newMediaExpected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"playItem\",\n      value: function playItem(item, resolved) {\n        if (this.entityId !== _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER) {\n          throw Error(\"Only browser supported\");\n        }\n\n        this._tearDownBrowserPlayer();\n\n        try {\n          this._browserPlayer = new _browser_media_player__WEBPACK_IMPORTED_MODULE_20__.BrowserMediaPlayer(this.hass, item, resolved, this._browserPlayerVolume, () => this.requestUpdate(\"_browserPlayer\"));\n        } catch (err) {\n          if (err.message === _browser_media_player__WEBPACK_IMPORTED_MODULE_20__.ERR_UNSUPPORTED_MEDIA) {\n            (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n              text: this.hass.localize(\"ui.components.media-browser.media_not_supported\")\n            });\n          } else {\n            throw err;\n          }\n        }\n\n        this._newMediaExpected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_browserPlayer, _this$_browserPlayer2;\n\n        if (this._newMediaExpected) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n        <div class=\"controls-progress\">\n          ${(0,lit_directives_until__WEBPACK_IMPORTED_MODULE_6__.until)( // Only show spinner after 500ms\n          new Promise(resolve => setTimeout(resolve, 500)).then(() => lit__WEBPACK_IMPORTED_MODULE_3__.html`<ha-circular-progress active></ha-circular-progress>`))}\n        </div>\n      `;\n        }\n\n        const isBrowser = this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER;\n        const stateObj = this._stateObj;\n\n        if (!stateObj) {\n          return this._renderChoosePlayer(stateObj);\n        }\n\n        const controls = !this.narrow ? (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.computeMediaControls)(stateObj, true) : stateObj.state === \"playing\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PAUSE) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_STOP)) || (stateObj.state === \"paused\" || stateObj.state === \"idle\") && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PLAY) || stateObj.state === \"on\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PLAY) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PAUSE)) ? [{\n          icon: stateObj.state === \"on\" ? mdiPlayPause : stateObj.state !== \"playing\" ? mdiPlay : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PAUSE) ? mdiPause : mdiStop,\n          action: stateObj.state !== \"playing\" ? \"media_play\" : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_PAUSE) ? \"media_pause\" : \"media_stop\"\n        }] : [{}];\n        const mediaDescription = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.computeMediaDescription)(stateObj);\n        const mediaDuration = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.formatMediaTime)(stateObj.attributes.media_duration);\n        const mediaTitleClean = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.cleanupMediaTitle)(stateObj.attributes.media_title || \"\");\n        const mediaArt = stateObj.attributes.entity_picture_local || stateObj.attributes.entity_picture;\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <div\n        class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          info: true,\n          pointer: !isBrowser,\n          app: ((_this$_browserPlayer = this._browserPlayer) === null || _this$_browserPlayer === void 0 ? void 0 : _this$_browserPlayer.item.media_class) === \"app\"\n        })}\n        @click=${this._openMoreInfo}\n      >\n        ${mediaArt ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<img src=${this.hass.hassUrl(mediaArt)} />` : \"\"}\n        <div class=\"media-info\">\n          <hui-marquee\n            .text=${mediaTitleClean || mediaDescription || (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.cleanupMediaTitle)(stateObj.attributes.media_content_id) || (stateObj.state !== \"playing\" && stateObj.state !== \"on\" ? this.hass.localize(`ui.card.media_player.nothing_playing`) : \"\")}\n            .active=${this._marqueeActive}\n            @mouseover=${this._marqueeMouseOver}\n            @mouseleave=${this._marqueeMouseLeave}\n          ></hui-marquee>\n          <span class=\"secondary\">\n            ${mediaTitleClean ? mediaDescription : \"\"}\n          </span>\n        </div>\n      </div>\n      <div class=\"controls-progress\">\n        ${(_this$_browserPlayer2 = this._browserPlayer) !== null && _this$_browserPlayer2 !== void 0 && _this$_browserPlayer2.buffering ? lit__WEBPACK_IMPORTED_MODULE_3__.html` <ha-circular-progress active></ha-circular-progress> ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n              <div class=\"controls\">\n                ${controls === undefined ? \"\" : controls.map(control => lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                        <ha-icon-button\n                          .label=${this.hass.localize(`ui.card.media_player.${control.action}`)}\n                          .path=${control.icon}\n                          action=${control.action}\n                          @click=${this._handleControlClick}\n                        >\n                        </ha-icon-button>\n                      `)}\n              </div>\n              ${stateObj.attributes.media_duration === Infinity ? lit__WEBPACK_IMPORTED_MODULE_3__.html`` : this.narrow ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<mwc-linear-progress></mwc-linear-progress>` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <div class=\"progress\">\n                      <div id=\"CurrentProgress\"></div>\n                      <mwc-linear-progress wide></mwc-linear-progress>\n                      <div>${mediaDuration}</div>\n                    </div>\n                  `}\n            `}\n      </div>\n      ${this._renderChoosePlayer(stateObj)}\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderChoosePlayer\",\n      value: function _renderChoosePlayer(stateObj) {\n        const isBrowser = this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER;\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n    <div class=\"choose-player ${isBrowser ? \"browser\" : \"\"}\">\n      ${!this.narrow && stateObj && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_VOLUME_SET) ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n              <ha-button-menu corner=\"BOTTOM_START\" y=\"0\" x=\"76\">\n                <ha-icon-button\n                  slot=\"trigger\"\n                  .path=${mdiVolumeHigh}\n                ></ha-icon-button>\n                <ha-slider\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"1\"\n                  .value=${stateObj.attributes.volume_level * 100}\n                  @change=${this._handleVolumeChange}\n                >\n                </ha-slider>\n              </ha-button-menu>\n            ` : \"\"}\n\n          <ha-button-menu corner=\"BOTTOM_START\">\n            ${this.narrow ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <ha-icon-button\n                      slot=\"trigger\"\n                      .path=${isBrowser ? mdiMonitor : (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__.domainIcon)((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(this.entityId), stateObj)}\n                    ></ha-icon-button>\n                  ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <mwc-button\n                      slot=\"trigger\"\n                      .label=${this.narrow ? \"\" : `${stateObj ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__.computeStateName)(stateObj) : this.entityId}\n                `}\n                    >\n                      <ha-svg-icon\n                        slot=\"icon\"\n                        .path=${isBrowser ? mdiMonitor : (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__.domainIcon)((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(this.entityId), stateObj)}\n                      ></ha-svg-icon>\n                      <ha-svg-icon\n                        slot=\"trailingIcon\"\n                        .path=${mdiChevronDown}\n                      ></ha-svg-icon>\n                    </mwc-button>\n                  `}\n            <mwc-list-item\n              .player=${_data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER}\n              ?selected=${isBrowser}\n              @click=${this._selectPlayer}\n            >\n              ${this.hass.localize(\"ui.components.media-browser.web-browser\")}\n            </mwc-list-item>\n            ${this._mediaPlayerEntities.map(source => lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                <mwc-list-item\n                  ?selected=${source.entity_id === this.entityId}\n                  .disabled=${_data_entity__WEBPACK_IMPORTED_MODULE_16__.UNAVAILABLE_STATES.includes(source.state)}\n                  .player=${source.entity_id}\n                  @click=${this._selectPlayer}\n                >\n                  ${(0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__.computeStateName)(source)}\n                </mwc-list-item>\n              `)}\n          </ha-button-menu>\n        </div>\n      </div>\n\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (changedProps.has(\"entityId\")) {\n          this._tearDownBrowserPlayer();\n        }\n\n        if (!changedProps.has(\"hass\") || this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER) {\n          return;\n        } // Reset new media expected if media player state changes\n\n\n        const oldHass = changedProps.get(\"hass\");\n\n        if (!oldHass || oldHass.states[this.entityId] !== this.hass.states[this.entityId]) {\n          this._newMediaExpected = false;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"updated\", this).call(this, changedProps);\n\n        if (this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER) {\n          if (!changedProps.has(\"_browserPlayer\")) {\n            return;\n          }\n        } else {\n          const oldHass = changedProps.get(\"hass\");\n\n          if (oldHass && oldHass.states[this.entityId] === this._stateObj) {\n            return;\n          }\n        }\n\n        const stateObj = this._stateObj;\n\n        this._updateProgressBar();\n\n        if (!this._progressInterval && this._showProgressBar && (stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === \"playing\") {\n          this._progressInterval = window.setInterval(() => this._updateProgressBar(), 1000);\n        } else if (this._progressInterval && (!this._showProgressBar || (stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) !== \"playing\")) {\n          clearInterval(this._progressInterval);\n          this._progressInterval = undefined;\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"_stateObj\",\n      value: function _stateObj() {\n        if (this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_17__.BROWSER_PLAYER) {\n          return this._browserPlayer ? this._browserPlayer.toStateObj() : _browser_media_player__WEBPACK_IMPORTED_MODULE_20__.BrowserMediaPlayer.idleStateObj();\n        }\n\n        return this.hass.states[this.entityId];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_tearDownBrowserPlayer\",\n      value: function _tearDownBrowserPlayer() {\n        if (this._browserPlayer) {\n          this._browserPlayer.remove();\n\n          this._browserPlayer = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openMoreInfo\",\n      value: function _openMoreInfo() {\n        if (this._browserPlayer) {\n          return;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__.fireEvent)(this, \"hass-more-info\", {\n          entityId: this.entityId\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"_showProgressBar\",\n      value: function _showProgressBar() {\n        if (!this.hass) {\n          return false;\n        }\n\n        const stateObj = this._stateObj;\n        return stateObj && (stateObj.state === \"playing\" || stateObj.state === \"paused\") && \"media_duration\" in stateObj.attributes && \"media_position\" in stateObj.attributes;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_mediaPlayerEntities\",\n      value: function _mediaPlayerEntities() {\n        return Object.values(this.hass.states).filter(entity => (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_9__.computeStateDomain)(entity) === \"media_player\" && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(entity, _data_media_player__WEBPACK_IMPORTED_MODULE_17__.SUPPORT_BROWSE_MEDIA));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateProgressBar\",\n      value: function _updateProgressBar() {\n        const stateObj = this._stateObj;\n\n        if (!this._progressBar || !this._currentProgress || !stateObj) {\n          return;\n        }\n\n        if (!stateObj.attributes.media_duration) {\n          this._progressBar.progress = 0;\n          this._currentProgress.innerHTML = \"\";\n          return;\n        }\n\n        const currentProgress = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.getCurrentProgress)(stateObj);\n        this._progressBar.progress = currentProgress / stateObj.attributes.media_duration;\n\n        if (this._currentProgress) {\n          this._currentProgress.innerHTML = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.formatMediaTime)(currentProgress);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleControlClick\",\n      value: function _handleControlClick(e) {\n        const action = e.currentTarget.getAttribute(\"action\");\n\n        if (!this._browserPlayer) {\n          (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.handleMediaControlClick)(this.hass, this._stateObj, e.currentTarget.getAttribute(\"action\"));\n          return;\n        }\n\n        if (action === \"media_pause\") {\n          this._browserPlayer.pause();\n        } else if (action === \"media_play\") {\n          this._browserPlayer.play();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_marqueeMouseOver\",\n      value: function _marqueeMouseOver() {\n        if (!this._marqueeActive) {\n          this._marqueeActive = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_marqueeMouseLeave\",\n      value: function _marqueeMouseLeave() {\n        if (this._marqueeActive) {\n          this._marqueeActive = false;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_selectPlayer\",\n      value: function _selectPlayer(ev) {\n        const entityId = ev.currentTarget.player;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__.fireEvent)(this, \"player-picked\", {\n          entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleVolumeChange\",\n      value: async function _handleVolumeChange(ev) {\n        ev.stopPropagation();\n        const value = Number(ev.target.value) / 100;\n\n        if (this._browserPlayer) {\n          this._browserPlayerVolume = value;\n\n          this._browserPlayer.setVolume(value);\n        } else {\n          await (0,_data_media_player__WEBPACK_IMPORTED_MODULE_17__.setMediaPlayerVolume)(this.hass, this.entityId, value);\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.css`\n      :host {\n        display: flex;\n        min-height: 100px;\n        background: var(\n          --ha-card-background,\n          var(--card-background-color, white)\n        );\n        border-top: 1px solid var(--divider-color);\n      }\n\n      mwc-linear-progress {\n        width: 100%;\n        padding: 0 4px;\n        --mdc-theme-primary: var(--secondary-text-color);\n      }\n\n      mwc-button[slot=\"trigger\"] {\n        --mdc-theme-primary: var(--primary-text-color);\n        --mdc-icon-size: 36px;\n      }\n\n      .info {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        width: 100%;\n        margin-right: 16px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      }\n\n      .pointer {\n        cursor: pointer;\n      }\n\n      .secondary,\n      .progress {\n        color: var(--secondary-text-color);\n      }\n\n      .choose-player {\n        flex: 1;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 16px;\n      }\n\n      .controls {\n        height: 48px;\n        padding-bottom: 4px;\n      }\n\n      .controls-progress {\n        flex: 2;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n      }\n\n      .progress {\n        display: flex;\n        width: 100%;\n        align-items: center;\n      }\n\n      mwc-linear-progress[wide] {\n        margin: 0 4px;\n      }\n\n      .media-info {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        padding-left: 16px;\n        width: 100%;\n      }\n\n      hui-marquee {\n        font-size: 1.2em;\n        margin: 0px 0 4px;\n      }\n\n      img {\n        max-height: 100px;\n        max-width: 100px;\n      }\n\n      .app img {\n        max-height: 68px;\n        margin: 16px 0 16px 16px;\n      }\n\n      ha-button-menu mwc-button {\n        line-height: 1;\n      }\n\n      :host([narrow]) {\n        min-height: 56px;\n        max-height: 56px;\n      }\n\n      :host([narrow]) .controls-progress {\n        flex: unset;\n        min-width: 48px;\n      }\n\n      :host([narrow]) .media-info {\n        padding-left: 8px;\n      }\n\n      :host([narrow]) .controls {\n        display: flex;\n        padding-bottom: 0;\n        --mdc-icon-size: 30px;\n      }\n\n      :host([narrow]) .choose-player {\n        padding-left: 0;\n        padding-right: 8px;\n        min-width: 48px;\n        flex: unset;\n        justify-content: center;\n      }\n\n      :host([narrow]) .choose-player.browser {\n        justify-content: flex-end;\n      }\n\n      :host([narrow]) img {\n        max-height: 56px;\n        max-width: 56px;\n      }\n\n      :host([narrow]) .blank-image {\n        height: 56px;\n        width: 56px;\n      }\n\n      :host([narrow]) mwc-linear-progress {\n        padding: 0;\n        position: absolute;\n        top: -4px;\n        left: 0;\n      }\n\n      mwc-list-item[selected] {\n        font-weight: bold;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtYmFyLW1lZGlhLXBsYXllci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBVUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBRUE7QUFDQTtBQVlBO0FBREE7QUFDQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF1QkE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBS0E7QUFJQTtBQUNBO0FBekNBO0FBQUE7QUFBQTtBQUFBO0FBNENBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFqREE7QUFBQTtBQUFBO0FBQUE7QUFvREE7O0FBQ0E7QUFDQTtBQXREQTtBQUFBO0FBQUE7QUFBQTtBQXlEQTtBQUNBO0FBMURBO0FBQUE7QUFBQTtBQUFBO0FBNkRBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFyRkE7QUFBQTtBQUFBO0FBQUE7QUF1RkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQVlBO0FBUUE7QUFUQTtBQWtCQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqTkE7QUFBQTtBQUFBO0FBQUE7QUFvTkE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFTQTtBQUFBO0FBQUE7QUFBQTtBQTZTQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTs7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQTVUQTtBQUFBO0FBQUE7QUFBQTtBQStUQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFLQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFoV0E7QUFBQTtBQUFBO0FBQUE7QUFtV0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7QUF6V0E7QUFBQTtBQUFBO0FBQUE7QUE0V0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFoWEE7QUFBQTtBQUFBO0FBQUE7QUFtWEE7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBdlhBO0FBQUE7QUFBQTtBQUFBO0FBMFhBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBTUE7QUF0WUE7QUFBQTtBQUFBO0FBQUE7QUF5WUE7QUFLQTtBQTlZQTtBQUFBO0FBQUE7QUFBQTtBQWlaQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBcGFBO0FBQUE7QUFBQTtBQUFBO0FBdWFBOztBQUVBO0FBQ0E7QUFLQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRiQTtBQUFBO0FBQUE7QUFBQTtBQXliQTtBQUNBO0FBQ0E7QUFDQTtBQTViQTtBQUFBO0FBQUE7QUFBQTtBQStiQTtBQUNBO0FBQ0E7QUFDQTtBQWxjQTtBQUFBO0FBQUE7QUFBQTtBQXFjQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBdmNBO0FBQUE7QUFBQTtBQUFBO0FBMGNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbGRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFxZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5bUJBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9tZWRpYS1icm93c2VyL2hhLWJhci1tZWRpYS1wbGF5ZXIudHM/MmIyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWJ1dHRvbi9td2MtYnV0dG9uXCI7XG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWxpbmVhci1wcm9ncmVzcy9td2MtbGluZWFyLXByb2dyZXNzXCI7XG5pbXBvcnQgdHlwZSB7IExpbmVhclByb2dyZXNzIH0gZnJvbSBcIkBtYXRlcmlhbC9td2MtbGluZWFyLXByb2dyZXNzL213Yy1saW5lYXItcHJvZ3Jlc3NcIjtcbmltcG9ydCBcIkBtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1pdGVtXCI7XG5pbXBvcnQge1xuICBtZGlDaGV2cm9uRG93bixcbiAgbWRpTW9uaXRvcixcbiAgbWRpUGF1c2UsXG4gIG1kaVBsYXksXG4gIG1kaVBsYXlQYXVzZSxcbiAgbWRpU3RvcCxcbiAgbWRpVm9sdW1lSGlnaCxcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyB1bnRpbCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy91bnRpbFwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVEb21haW4gfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlTmFtZSB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfbmFtZVwiO1xuaW1wb3J0IHsgZG9tYWluSWNvbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2RvbWFpbl9pY29uXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ZlYXR1cmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9zdXBwb3J0cy1mZWF0dXJlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWJ1dHRvbi1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWNpcmN1bGFyLXByb2dyZXNzXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyBVTkFWQUlMQUJMRV9TVEFURVMgfSBmcm9tIFwiLi4vLi4vZGF0YS9lbnRpdHlcIjtcbmltcG9ydCB7XG4gIEJST1dTRVJfUExBWUVSLFxuICBjbGVhbnVwTWVkaWFUaXRsZSxcbiAgY29tcHV0ZU1lZGlhQ29udHJvbHMsXG4gIGNvbXB1dGVNZWRpYURlc2NyaXB0aW9uLFxuICBmb3JtYXRNZWRpYVRpbWUsXG4gIGdldEN1cnJlbnRQcm9ncmVzcyxcbiAgaGFuZGxlTWVkaWFDb250cm9sQ2xpY2ssXG4gIE1lZGlhUGxheWVyRW50aXR5LFxuICBNZWRpYVBsYXllckl0ZW0sXG4gIHNldE1lZGlhUGxheWVyVm9sdW1lLFxuICBTVVBQT1JUX0JST1dTRV9NRURJQSxcbiAgU1VQUE9SVF9QQVVTRSxcbiAgU1VQUE9SVF9QTEFZLFxuICBTVVBQT1JUX1NUT1AsXG4gIFNVUFBPUlRfVk9MVU1FX1NFVCxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvbWVkaWEtcGxheWVyXCI7XG5pbXBvcnQgeyBSZXNvbHZlZE1lZGlhU291cmNlIH0gZnJvbSBcIi4uLy4uL2RhdGEvbWVkaWFfc291cmNlXCI7XG5pbXBvcnQgeyBzaG93QWxlcnREaWFsb2cgfSBmcm9tIFwiLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuLi9sb3ZlbGFjZS9jb21wb25lbnRzL2h1aS1tYXJxdWVlXCI7XG5pbXBvcnQge1xuICBCcm93c2VyTWVkaWFQbGF5ZXIsXG4gIEVSUl9VTlNVUFBPUlRFRF9NRURJQSxcbn0gZnJvbSBcIi4vYnJvd3Nlci1tZWRpYS1wbGF5ZXJcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSEFTU0RvbUV2ZW50cyB7XG4gICAgXCJwbGF5ZXItcGlja2VkXCI6IHsgZW50aXR5SWQ6IHN0cmluZyB9O1xuICB9XG59XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtYmFyLW1lZGlhLXBsYXllclwiKVxuZXhwb3J0IGNsYXNzIEJhck1lZGlhUGxheWVyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGVudGl0eUlkITogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbiAgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHF1ZXJ5KFwibXdjLWxpbmVhci1wcm9ncmVzc1wiKSBwcml2YXRlIF9wcm9ncmVzc0Jhcj86IExpbmVhclByb2dyZXNzO1xuXG4gIEBxdWVyeShcIiNDdXJyZW50UHJvZ3Jlc3NcIikgcHJpdmF0ZSBfY3VycmVudFByb2dyZXNzPzogSFRNTEVsZW1lbnQ7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbWFycXVlZUFjdGl2ZSA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX25ld01lZGlhRXhwZWN0ZWQgPSBmYWxzZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9icm93c2VyUGxheWVyPzogQnJvd3Nlck1lZGlhUGxheWVyO1xuXG4gIHByaXZhdGUgX3Byb2dyZXNzSW50ZXJ2YWw/OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfYnJvd3NlclBsYXllclZvbHVtZSA9IDAuODtcblxuICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICBpZiAoIXN0YXRlT2JqKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX3Byb2dyZXNzSW50ZXJ2YWwgJiZcbiAgICAgIHRoaXMuX3Nob3dQcm9ncmVzc0JhciAmJlxuICAgICAgc3RhdGVPYmouc3RhdGUgPT09IFwicGxheWluZ1wiXG4gICAgKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzc0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKFxuICAgICAgICAoKSA9PiB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpLFxuICAgICAgICAxMDAwXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0ludGVydmFsKTtcbiAgICAgIHRoaXMuX3Byb2dyZXNzSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuX3RlYXJEb3duQnJvd3NlclBsYXllcigpO1xuICB9XG5cbiAgcHVibGljIHNob3dSZXNvbHZpbmdOZXdNZWRpYVBpY2tlZCgpIHtcbiAgICB0aGlzLl90ZWFyRG93bkJyb3dzZXJQbGF5ZXIoKTtcbiAgICB0aGlzLl9uZXdNZWRpYUV4cGVjdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBoaWRlUmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKSB7XG4gICAgdGhpcy5fbmV3TWVkaWFFeHBlY3RlZCA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHBsYXlJdGVtKGl0ZW06IE1lZGlhUGxheWVySXRlbSwgcmVzb2x2ZWQ6IFJlc29sdmVkTWVkaWFTb3VyY2UpIHtcbiAgICBpZiAodGhpcy5lbnRpdHlJZCAhPT0gQlJPV1NFUl9QTEFZRVIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiT25seSBicm93c2VyIHN1cHBvcnRlZFwiKTtcbiAgICB9XG4gICAgdGhpcy5fdGVhckRvd25Ccm93c2VyUGxheWVyKCk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2Jyb3dzZXJQbGF5ZXIgPSBuZXcgQnJvd3Nlck1lZGlhUGxheWVyKFxuICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHJlc29sdmVkLFxuICAgICAgICB0aGlzLl9icm93c2VyUGxheWVyVm9sdW1lLFxuICAgICAgICAoKSA9PiB0aGlzLnJlcXVlc3RVcGRhdGUoXCJfYnJvd3NlclBsYXllclwiKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgaWYgKGVyci5tZXNzYWdlID09PSBFUlJfVU5TVVBQT1JURURfTUVESUEpIHtcbiAgICAgICAgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLmNvbXBvbmVudHMubWVkaWEtYnJvd3Nlci5tZWRpYV9ub3Rfc3VwcG9ydGVkXCJcbiAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbmV3TWVkaWFFeHBlY3RlZCA9IGZhbHNlO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKHRoaXMuX25ld01lZGlhRXhwZWN0ZWQpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtcHJvZ3Jlc3NcIj5cbiAgICAgICAgICAke3VudGlsKFxuICAgICAgICAgICAgLy8gT25seSBzaG93IHNwaW5uZXIgYWZ0ZXIgNTAwbXNcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpLnRoZW4oXG4gICAgICAgICAgICAgICgpID0+IGh0bWxgPGhhLWNpcmN1bGFyLXByb2dyZXNzIGFjdGl2ZT48L2hhLWNpcmN1bGFyLXByb2dyZXNzPmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgY29uc3QgaXNCcm93c2VyID0gdGhpcy5lbnRpdHlJZCA9PT0gQlJPV1NFUl9QTEFZRVI7XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLl9zdGF0ZU9iajtcblxuICAgIGlmICghc3RhdGVPYmopIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJDaG9vc2VQbGF5ZXIoc3RhdGVPYmopO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2xzID0gIXRoaXMubmFycm93XG4gICAgICA/IGNvbXB1dGVNZWRpYUNvbnRyb2xzKHN0YXRlT2JqLCB0cnVlKVxuICAgICAgOiAoc3RhdGVPYmouc3RhdGUgPT09IFwicGxheWluZ1wiICYmXG4gICAgICAgICAgKHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9QQVVTRSkgfHxcbiAgICAgICAgICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9TVE9QKSkpIHx8XG4gICAgICAgICgoc3RhdGVPYmouc3RhdGUgPT09IFwicGF1c2VkXCIgfHwgc3RhdGVPYmouc3RhdGUgPT09IFwiaWRsZVwiKSAmJlxuICAgICAgICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9QTEFZKSkgfHxcbiAgICAgICAgKHN0YXRlT2JqLnN0YXRlID09PSBcIm9uXCIgJiZcbiAgICAgICAgICAoc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBTVVBQT1JUX1BMQVkpIHx8XG4gICAgICAgICAgICBzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIFNVUFBPUlRfUEFVU0UpKSlcbiAgICAgID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGljb246XG4gICAgICAgICAgICAgIHN0YXRlT2JqLnN0YXRlID09PSBcIm9uXCJcbiAgICAgICAgICAgICAgICA/IG1kaVBsYXlQYXVzZVxuICAgICAgICAgICAgICAgIDogc3RhdGVPYmouc3RhdGUgIT09IFwicGxheWluZ1wiXG4gICAgICAgICAgICAgICAgPyBtZGlQbGF5XG4gICAgICAgICAgICAgICAgOiBzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIFNVUFBPUlRfUEFVU0UpXG4gICAgICAgICAgICAgICAgPyBtZGlQYXVzZVxuICAgICAgICAgICAgICAgIDogbWRpU3RvcCxcbiAgICAgICAgICAgIGFjdGlvbjpcbiAgICAgICAgICAgICAgc3RhdGVPYmouc3RhdGUgIT09IFwicGxheWluZ1wiXG4gICAgICAgICAgICAgICAgPyBcIm1lZGlhX3BsYXlcIlxuICAgICAgICAgICAgICAgIDogc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBTVVBQT1JUX1BBVVNFKVxuICAgICAgICAgICAgICAgID8gXCJtZWRpYV9wYXVzZVwiXG4gICAgICAgICAgICAgICAgOiBcIm1lZGlhX3N0b3BcIixcbiAgICAgICAgICB9LFxuICAgICAgICBdXG4gICAgICA6IFt7fV07XG4gICAgY29uc3QgbWVkaWFEZXNjcmlwdGlvbiA9IGNvbXB1dGVNZWRpYURlc2NyaXB0aW9uKHN0YXRlT2JqKTtcbiAgICBjb25zdCBtZWRpYUR1cmF0aW9uID0gZm9ybWF0TWVkaWFUaW1lKHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfZHVyYXRpb24pO1xuICAgIGNvbnN0IG1lZGlhVGl0bGVDbGVhbiA9IGNsZWFudXBNZWRpYVRpdGxlKFxuICAgICAgc3RhdGVPYmouYXR0cmlidXRlcy5tZWRpYV90aXRsZSB8fCBcIlwiXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFydCA9XG4gICAgICBzdGF0ZU9iai5hdHRyaWJ1dGVzLmVudGl0eV9waWN0dXJlX2xvY2FsIHx8XG4gICAgICBzdGF0ZU9iai5hdHRyaWJ1dGVzLmVudGl0eV9waWN0dXJlO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgIGluZm86IHRydWUsXG4gICAgICAgICAgcG9pbnRlcjogIWlzQnJvd3NlcixcbiAgICAgICAgICBhcHA6IHRoaXMuX2Jyb3dzZXJQbGF5ZXI/Lml0ZW0ubWVkaWFfY2xhc3MgPT09IFwiYXBwXCIsXG4gICAgICAgIH0pfVxuICAgICAgICBAY2xpY2s9JHt0aGlzLl9vcGVuTW9yZUluZm99XG4gICAgICA+XG4gICAgICAgICR7bWVkaWFBcnQgPyBodG1sYDxpbWcgc3JjPSR7dGhpcy5oYXNzLmhhc3NVcmwobWVkaWFBcnQpfSAvPmAgOiBcIlwifVxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtaW5mb1wiPlxuICAgICAgICAgIDxodWktbWFycXVlZVxuICAgICAgICAgICAgLnRleHQ9JHttZWRpYVRpdGxlQ2xlYW4gfHxcbiAgICAgICAgICAgIG1lZGlhRGVzY3JpcHRpb24gfHxcbiAgICAgICAgICAgIGNsZWFudXBNZWRpYVRpdGxlKHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfY29udGVudF9pZCkgfHxcbiAgICAgICAgICAgIChzdGF0ZU9iai5zdGF0ZSAhPT0gXCJwbGF5aW5nXCIgJiYgc3RhdGVPYmouc3RhdGUgIT09IFwib25cIlxuICAgICAgICAgICAgICA/IHRoaXMuaGFzcy5sb2NhbGl6ZShgdWkuY2FyZC5tZWRpYV9wbGF5ZXIubm90aGluZ19wbGF5aW5nYClcbiAgICAgICAgICAgICAgOiBcIlwiKX1cbiAgICAgICAgICAgIC5hY3RpdmU9JHt0aGlzLl9tYXJxdWVlQWN0aXZlfVxuICAgICAgICAgICAgQG1vdXNlb3Zlcj0ke3RoaXMuX21hcnF1ZWVNb3VzZU92ZXJ9XG4gICAgICAgICAgICBAbW91c2VsZWF2ZT0ke3RoaXMuX21hcnF1ZWVNb3VzZUxlYXZlfVxuICAgICAgICAgID48L2h1aS1tYXJxdWVlPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAke21lZGlhVGl0bGVDbGVhbiA/IG1lZGlhRGVzY3JpcHRpb24gOiBcIlwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9scy1wcm9ncmVzc1wiPlxuICAgICAgICAke3RoaXMuX2Jyb3dzZXJQbGF5ZXI/LmJ1ZmZlcmluZ1xuICAgICAgICAgID8gaHRtbGAgPGhhLWNpcmN1bGFyLXByb2dyZXNzIGFjdGl2ZT48L2hhLWNpcmN1bGFyLXByb2dyZXNzPiBgXG4gICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHNcIj5cbiAgICAgICAgICAgICAgICAke2NvbnRyb2xzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgOiBjb250cm9scy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgKGNvbnRyb2wpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB1aS5jYXJkLm1lZGlhX3BsYXllci4ke2NvbnRyb2wuYWN0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHtjb250cm9sLmljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbj0ke2NvbnRyb2wuYWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9oYW5kbGVDb250cm9sQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICR7c3RhdGVPYmouYXR0cmlidXRlcy5tZWRpYV9kdXJhdGlvbiA9PT0gSW5maW5pdHlcbiAgICAgICAgICAgICAgICA/IGh0bWxgYFxuICAgICAgICAgICAgICAgIDogdGhpcy5uYXJyb3dcbiAgICAgICAgICAgICAgICA/IGh0bWxgPG13Yy1saW5lYXItcHJvZ3Jlc3M+PC9td2MtbGluZWFyLXByb2dyZXNzPmBcbiAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJDdXJyZW50UHJvZ3Jlc3NcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bXdjLWxpbmVhci1wcm9ncmVzcyB3aWRlPjwvbXdjLWxpbmVhci1wcm9ncmVzcz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7bWVkaWFEdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgYH1cbiAgICAgIDwvZGl2PlxuICAgICAgJHt0aGlzLl9yZW5kZXJDaG9vc2VQbGF5ZXIoc3RhdGVPYmopfVxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJDaG9vc2VQbGF5ZXIoc3RhdGVPYmo6IE1lZGlhUGxheWVyRW50aXR5IHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgaXNCcm93c2VyID0gdGhpcy5lbnRpdHlJZCA9PT0gQlJPV1NFUl9QTEFZRVI7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cImNob29zZS1wbGF5ZXIgJHtpc0Jyb3dzZXIgPyBcImJyb3dzZXJcIiA6IFwiXCJ9XCI+XG4gICAgICAke1xuICAgICAgICAhdGhpcy5uYXJyb3cgJiZcbiAgICAgICAgc3RhdGVPYmogJiZcbiAgICAgICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBTVVBQT1JUX1ZPTFVNRV9TRVQpXG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICA8aGEtYnV0dG9uLW1lbnUgY29ybmVyPVwiQk9UVE9NX1NUQVJUXCIgeT1cIjBcIiB4PVwiNzZcIj5cbiAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgIHNsb3Q9XCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgICAgIC5wYXRoPSR7bWRpVm9sdW1lSGlnaH1cbiAgICAgICAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8aGEtc2xpZGVyXG4gICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMVwiXG4gICAgICAgICAgICAgICAgICAudmFsdWU9JHtzdGF0ZU9iai5hdHRyaWJ1dGVzLnZvbHVtZV9sZXZlbCEgKiAxMDB9XG4gICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5faGFuZGxlVm9sdW1lQ2hhbmdlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L2hhLXNsaWRlcj5cbiAgICAgICAgICAgICAgPC9oYS1idXR0b24tbWVudT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IFwiXCJcbiAgICAgIH1cblxuICAgICAgICAgIDxoYS1idXR0b24tbWVudSBjb3JuZXI9XCJCT1RUT01fU1RBUlRcIj5cbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIHRoaXMubmFycm93XG4gICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBzbG90PVwidHJpZ2dlclwiXG4gICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHtpc0Jyb3dzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbWRpTW9uaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkb21haW5JY29uKGNvbXB1dGVEb21haW4odGhpcy5lbnRpdHlJZCksIHN0YXRlT2JqKX1cbiAgICAgICAgICAgICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLm5hcnJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlT2JqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbXB1dGVTdGF0ZU5hbWUoc3RhdGVPYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZW50aXR5SWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJpY29uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7aXNCcm93c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gbWRpTW9uaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvbWFpbkljb24oY29tcHV0ZURvbWFpbih0aGlzLmVudGl0eUlkKSwgc3RhdGVPYmopfVxuICAgICAgICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgIDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdD1cInRyYWlsaW5nSWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNoZXZyb25Eb3dufVxuICAgICAgICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICAgICAgICA8L213Yy1idXR0b24+XG4gICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8bXdjLWxpc3QtaXRlbVxuICAgICAgICAgICAgICAucGxheWVyPSR7QlJPV1NFUl9QTEFZRVJ9XG4gICAgICAgICAgICAgID9zZWxlY3RlZD0ke2lzQnJvd3Nlcn1cbiAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2VsZWN0UGxheWVyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMubWVkaWEtYnJvd3Nlci53ZWItYnJvd3NlclwiKX1cbiAgICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cbiAgICAgICAgICAgICR7dGhpcy5fbWVkaWFQbGF5ZXJFbnRpdGllcy5tYXAoXG4gICAgICAgICAgICAgIChzb3VyY2UpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgPG13Yy1saXN0LWl0ZW1cbiAgICAgICAgICAgICAgICAgID9zZWxlY3RlZD0ke3NvdXJjZS5lbnRpdHlfaWQgPT09IHRoaXMuZW50aXR5SWR9XG4gICAgICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHtVTkFWQUlMQUJMRV9TVEFURVMuaW5jbHVkZXMoc291cmNlLnN0YXRlKX1cbiAgICAgICAgICAgICAgICAgIC5wbGF5ZXI9JHtzb3VyY2UuZW50aXR5X2lkfVxuICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2VsZWN0UGxheWVyfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICR7Y29tcHV0ZVN0YXRlTmFtZShzb3VyY2UpfVxuICAgICAgICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2hhLWJ1dHRvbi1tZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBzdXBlci53aWxsVXBkYXRlKGNoYW5nZWRQcm9wcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJlbnRpdHlJZFwiKSkge1xuICAgICAgdGhpcy5fdGVhckRvd25Ccm93c2VyUGxheWVyKCk7XG4gICAgfVxuICAgIGlmICghY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikgfHwgdGhpcy5lbnRpdHlJZCA9PT0gQlJPV1NFUl9QTEFZRVIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVzZXQgbmV3IG1lZGlhIGV4cGVjdGVkIGlmIG1lZGlhIHBsYXllciBzdGF0ZSBjaGFuZ2VzXG4gICAgY29uc3Qgb2xkSGFzcyA9IGNoYW5nZWRQcm9wcy5nZXQoXCJoYXNzXCIpIGFzIEhvbWVBc3Npc3RhbnQgfCB1bmRlZmluZWQ7XG4gICAgaWYgKFxuICAgICAgIW9sZEhhc3MgfHxcbiAgICAgIG9sZEhhc3Muc3RhdGVzW3RoaXMuZW50aXR5SWRdICE9PSB0aGlzLmhhc3Muc3RhdGVzW3RoaXMuZW50aXR5SWRdXG4gICAgKSB7XG4gICAgICB0aGlzLl9uZXdNZWRpYUV4cGVjdGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcblxuICAgIGlmICh0aGlzLmVudGl0eUlkID09PSBCUk9XU0VSX1BMQVlFUikge1xuICAgICAgaWYgKCFjaGFuZ2VkUHJvcHMuaGFzKFwiX2Jyb3dzZXJQbGF5ZXJcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvbGRIYXNzID0gY2hhbmdlZFByb3BzLmdldChcImhhc3NcIikgYXMgSG9tZUFzc2lzdGFudCB8IHVuZGVmaW5lZDtcbiAgICAgIGlmIChvbGRIYXNzICYmIG9sZEhhc3Muc3RhdGVzW3RoaXMuZW50aXR5SWRdID09PSB0aGlzLl9zdGF0ZU9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLl9zdGF0ZU9iajtcblxuICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzQmFyKCk7XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCAmJlxuICAgICAgdGhpcy5fc2hvd1Byb2dyZXNzQmFyICYmXG4gICAgICBzdGF0ZU9iaj8uc3RhdGUgPT09IFwicGxheWluZ1wiXG4gICAgKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzc0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKFxuICAgICAgICAoKSA9PiB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpLFxuICAgICAgICAxMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLl9wcm9ncmVzc0ludGVydmFsICYmXG4gICAgICAoIXRoaXMuX3Nob3dQcm9ncmVzc0JhciB8fCBzdGF0ZU9iaj8uc3RhdGUgIT09IFwicGxheWluZ1wiKVxuICAgICkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0ludGVydmFsKTtcbiAgICAgIHRoaXMuX3Byb2dyZXNzSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX3N0YXRlT2JqKCk6IE1lZGlhUGxheWVyRW50aXR5IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5lbnRpdHlJZCA9PT0gQlJPV1NFUl9QTEFZRVIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9icm93c2VyUGxheWVyXG4gICAgICAgID8gdGhpcy5fYnJvd3NlclBsYXllci50b1N0YXRlT2JqKClcbiAgICAgICAgOiBCcm93c2VyTWVkaWFQbGF5ZXIuaWRsZVN0YXRlT2JqKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhc3MhLnN0YXRlc1t0aGlzLmVudGl0eUlkXSBhcyBNZWRpYVBsYXllckVudGl0eSB8IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByaXZhdGUgX3RlYXJEb3duQnJvd3NlclBsYXllcigpIHtcbiAgICBpZiAodGhpcy5fYnJvd3NlclBsYXllcikge1xuICAgICAgdGhpcy5fYnJvd3NlclBsYXllci5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX2Jyb3dzZXJQbGF5ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb3Blbk1vcmVJbmZvKCkge1xuICAgIGlmICh0aGlzLl9icm93c2VyUGxheWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpcmVFdmVudCh0aGlzLCBcImhhc3MtbW9yZS1pbmZvXCIsIHsgZW50aXR5SWQ6IHRoaXMuZW50aXR5SWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfc2hvd1Byb2dyZXNzQmFyKCkge1xuICAgIGlmICghdGhpcy5oYXNzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLl9zdGF0ZU9iajtcblxuICAgIHJldHVybiAoXG4gICAgICBzdGF0ZU9iaiAmJlxuICAgICAgKHN0YXRlT2JqLnN0YXRlID09PSBcInBsYXlpbmdcIiB8fCBzdGF0ZU9iai5zdGF0ZSA9PT0gXCJwYXVzZWRcIikgJiZcbiAgICAgIFwibWVkaWFfZHVyYXRpb25cIiBpbiBzdGF0ZU9iai5hdHRyaWJ1dGVzICYmXG4gICAgICBcIm1lZGlhX3Bvc2l0aW9uXCIgaW4gc3RhdGVPYmouYXR0cmlidXRlc1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfbWVkaWFQbGF5ZXJFbnRpdGllcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmhhc3MhLnN0YXRlcykuZmlsdGVyKFxuICAgICAgKGVudGl0eSkgPT5cbiAgICAgICAgY29tcHV0ZVN0YXRlRG9tYWluKGVudGl0eSkgPT09IFwibWVkaWFfcGxheWVyXCIgJiZcbiAgICAgICAgc3VwcG9ydHNGZWF0dXJlKGVudGl0eSwgU1VQUE9SVF9CUk9XU0VfTUVESUEpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVByb2dyZXNzQmFyKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICBpZiAoIXRoaXMuX3Byb2dyZXNzQmFyIHx8ICF0aGlzLl9jdXJyZW50UHJvZ3Jlc3MgfHwgIXN0YXRlT2JqKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX2R1cmF0aW9uKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzc0Jhci5wcm9ncmVzcyA9IDA7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3Jlc3MuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50UHJvZ3Jlc3MgPSBnZXRDdXJyZW50UHJvZ3Jlc3Moc3RhdGVPYmopO1xuICAgIHRoaXMuX3Byb2dyZXNzQmFyLnByb2dyZXNzID1cbiAgICAgIGN1cnJlbnRQcm9ncmVzcyAvIHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfZHVyYXRpb247XG5cbiAgICBpZiAodGhpcy5fY3VycmVudFByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3Jlc3MuaW5uZXJIVE1MID0gZm9ybWF0TWVkaWFUaW1lKGN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlQ29udHJvbENsaWNrKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBhY3Rpb24gPSAoZS5jdXJyZW50VGFyZ2V0ISBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpITtcblxuICAgIGlmICghdGhpcy5fYnJvd3NlclBsYXllcikge1xuICAgICAgaGFuZGxlTWVkaWFDb250cm9sQ2xpY2soXG4gICAgICAgIHRoaXMuaGFzcyEsXG4gICAgICAgIHRoaXMuX3N0YXRlT2JqISxcbiAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFjdGlvbiA9PT0gXCJtZWRpYV9wYXVzZVwiKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnBhdXNlKCk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwibWVkaWFfcGxheVwiKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9tYXJxdWVlTW91c2VPdmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fbWFycXVlZUFjdGl2ZSkge1xuICAgICAgdGhpcy5fbWFycXVlZUFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbWFycXVlZU1vdXNlTGVhdmUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX21hcnF1ZWVBY3RpdmUpIHtcbiAgICAgIHRoaXMuX21hcnF1ZWVBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zZWxlY3RQbGF5ZXIoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgZW50aXR5SWQgPSAoZXYuY3VycmVudFRhcmdldCBhcyBhbnkpLnBsYXllcjtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJwbGF5ZXItcGlja2VkXCIsIHsgZW50aXR5SWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9oYW5kbGVWb2x1bWVDaGFuZ2UoZXYpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCB2YWx1ZSA9IE51bWJlcihldi50YXJnZXQudmFsdWUpIC8gMTAwO1xuICAgIGlmICh0aGlzLl9icm93c2VyUGxheWVyKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyVm9sdW1lID0gdmFsdWU7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnNldFZvbHVtZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHNldE1lZGlhUGxheWVyVm9sdW1lKHRoaXMuaGFzcywgdGhpcy5lbnRpdHlJZCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKFxuICAgICAgICAgIC0taGEtY2FyZC1iYWNrZ3JvdW5kLFxuICAgICAgICAgIHZhcigtLWNhcmQtYmFja2dyb3VuZC1jb2xvciwgd2hpdGUpXG4gICAgICAgICk7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgbXdjLWxpbmVhci1wcm9ncmVzcyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiAwIDRweDtcbiAgICAgICAgLS1tZGMtdGhlbWUtcHJpbWFyeTogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICBtd2MtYnV0dG9uW3Nsb3Q9XCJ0cmlnZ2VyXCJdIHtcbiAgICAgICAgLS1tZGMtdGhlbWUtcHJpbWFyeTogdmFyKC0tcHJpbWFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgLS1tZGMtaWNvbi1zaXplOiAzNnB4O1xuICAgICAgfVxuXG4gICAgICAuaW5mbyB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAucG9pbnRlciB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSxcbiAgICAgIC5wcm9ncmVzcyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5jaG9vc2UtcGxheWVyIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2xzIHtcbiAgICAgICAgaGVpZ2h0OiA0OHB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNHB4O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbHMtcHJvZ3Jlc3Mge1xuICAgICAgICBmbGV4OiAyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIG13Yy1saW5lYXItcHJvZ3Jlc3Nbd2lkZV0ge1xuICAgICAgICBtYXJnaW46IDAgNHB4O1xuICAgICAgfVxuXG4gICAgICAubWVkaWEtaW5mbyB7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuXG4gICAgICBodWktbWFycXVlZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIG1hcmdpbjogMHB4IDAgNHB4O1xuICAgICAgfVxuXG4gICAgICBpbWcge1xuICAgICAgICBtYXgtaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDBweDtcbiAgICAgIH1cblxuICAgICAgLmFwcCBpbWcge1xuICAgICAgICBtYXgtaGVpZ2h0OiA2OHB4O1xuICAgICAgICBtYXJnaW46IDE2cHggMCAxNnB4IDE2cHg7XG4gICAgICB9XG5cbiAgICAgIGhhLWJ1dHRvbi1tZW51IG13Yy1idXR0b24ge1xuICAgICAgICBsaW5lLWhlaWdodDogMTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIHtcbiAgICAgICAgbWluLWhlaWdodDogNTZweDtcbiAgICAgICAgbWF4LWhlaWdodDogNTZweDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIC5jb250cm9scy1wcm9ncmVzcyB7XG4gICAgICAgIGZsZXg6IHVuc2V0O1xuICAgICAgICBtaW4td2lkdGg6IDQ4cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSAubWVkaWEtaW5mbyB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogOHB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgLmNvbnRyb2xzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICAgIC0tbWRjLWljb24tc2l6ZTogMzBweDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIC5jaG9vc2UtcGxheWVyIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiA4cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDhweDtcbiAgICAgICAgZmxleDogdW5zZXQ7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgLmNob29zZS1wbGF5ZXIuYnJvd3NlciB7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSBpbWcge1xuICAgICAgICBtYXgtaGVpZ2h0OiA1NnB4O1xuICAgICAgICBtYXgtd2lkdGg6IDU2cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSAuYmxhbmstaW1hZ2Uge1xuICAgICAgICBoZWlnaHQ6IDU2cHg7XG4gICAgICAgIHdpZHRoOiA1NnB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgbXdjLWxpbmVhci1wcm9ncmVzcyB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAtNHB4O1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfVxuXG4gICAgICBtd2MtbGlzdC1pdGVtW3NlbGVjdGVkXSB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWJhci1tZWRpYS1wbGF5ZXJcIjogQmFyTWVkaWFQbGF5ZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/media-browser/ha-bar-media-player.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/ha-panel-media-browser.ts":
/*!************************************************************!*\
  !*** ./src/panels/media-browser/ha-panel-media-browser.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/app-layout/app-header/app-header */ \"./node_modules/@polymer/app-layout/app-header/app-header.js\");\n/* harmony import */ var _polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/app-layout/app-toolbar/app-toolbar */ \"./node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js\");\n/* harmony import */ var _material_mwc_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/decorators/local-storage */ \"./src/common/decorators/local-storage.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _components_ha_menu_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/ha-menu-button */ \"./src/components/ha-menu-button.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_media_player_ha_media_player_browse__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/media-player/ha-media-player-browse */ \"./src/components/media-player/ha-media-player-browse.ts\");\n/* harmony import */ var _components_media_player_ha_media_manage_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/media-player/ha-media-manage-button */ \"./src/components/media-player/ha-media-manage-button.ts\");\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\n/* harmony import */ var _data_media_source__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../data/media_source */ \"./src/data/media_source.ts\");\n/* harmony import */ var _layouts_ha_app_layout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layouts/ha-app-layout */ \"./src/layouts/ha-app-layout.js\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_bar_media_player__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ha-bar-media-player */ \"./src/panels/media-browser/ha-bar-media-player.ts\");\n/* harmony import */ var _show_media_player_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./show-media-player-dialog */ \"./src/panels/media-browser/show-media-player-dialog.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../data/camera */ \"./src/data/camera.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nconst mdiArrowLeft = \"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst createMediaPanelUrl = (entityId, items) => {\n  let path = `/media-browser/${entityId}`;\n\n  for (const item of items.slice(1)) {\n    path += \"/\" + encodeURIComponent(`${item.media_content_type},${item.media_content_id}`);\n  }\n\n  return path;\n};\n\nlet PanelMediaBrowser = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-panel-media-browser\")], function (_initialize, _LitElement) {\n  class PanelMediaBrowser extends _LitElement {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: PanelMediaBrowser,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_currentItem\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_navigateIds\",\n\n      value() {\n        return [{\n          media_content_id: undefined,\n          media_content_type: undefined\n        }];\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_5__.LocalStorage)(\"mediaBrowseEntityId\", true, false)],\n      key: \"_entityId\",\n\n      value() {\n        return _data_media_player__WEBPACK_IMPORTED_MODULE_12__.BROWSER_PLAYER;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"ha-media-player-browse\")],\n      key: \"_browser\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"ha-bar-media-player\")],\n      key: \"_player\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-app-layout>\n        <app-header fixed slot=\"header\">\n          <app-toolbar>\n            ${this._navigateIds.length > 1 ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                  <ha-icon-button\n                    .path=${mdiArrowLeft}\n                    @click=${this._goBack}\n                  ></ha-icon-button>\n                ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                  <ha-menu-button\n                    .hass=${this.hass}\n                    .narrow=${this.narrow}\n                  ></ha-menu-button>\n                `}\n            <div main-title>\n              ${!this._currentItem ? this.hass.localize(\"ui.components.media-browser.media-player-browser\") : this._currentItem.title}\n            </div>\n            <ha-media-manage-button\n              .hass=${this.hass}\n              .currentItem=${this._currentItem}\n              @media-refresh=${this._refreshMedia}\n            ></ha-media-manage-button>\n          </app-toolbar>\n        </app-header>\n        <ha-media-player-browse\n          .hass=${this.hass}\n          .entityId=${this._entityId}\n          .navigateIds=${this._navigateIds}\n          @media-picked=${this._mediaPicked}\n          @media-browsed=${this._mediaBrowsed}\n        ></ha-media-player-browse>\n      </ha-app-layout>\n      <ha-bar-media-player\n        .hass=${this.hass}\n        .entityId=${this._entityId}\n        .narrow=${this.narrow}\n        @player-picked=${this._playerPicked}\n      ></ha-bar-media-player>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(PanelMediaBrowser.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (!changedProps.has(\"route\")) {\n          return;\n        }\n\n        if (this.route.path === \"\") {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(`/media-browser/${this._entityId}`, {\n            replace: true\n          });\n          return;\n        }\n\n        const [routePlayer, ...navigateIdsEncoded] = this.route.path.substring(1).split(\"/\");\n\n        if (routePlayer !== this._entityId) {\n          // Detect if picked player doesn't exist (anymore)\n          // Can happen if URL bookmarked or stored in local storage\n          if (routePlayer !== _data_media_player__WEBPACK_IMPORTED_MODULE_12__.BROWSER_PLAYER && this.hass.states[routePlayer] === undefined) {\n            (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(`/media-browser/${_data_media_player__WEBPACK_IMPORTED_MODULE_12__.BROWSER_PLAYER}`, {\n              replace: true\n            });\n            (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n              text: this.hass.localize(\"ui.panel.media-browser.error.player_not_exist\", {\n                name: routePlayer\n              })\n            });\n            return;\n          }\n\n          this._entityId = routePlayer;\n        }\n\n        this._navigateIds = [{\n          media_content_type: undefined,\n          media_content_id: undefined\n        }, ...navigateIdsEncoded.map(navigateId => {\n          const decoded = decodeURIComponent(navigateId); // Don't use split because media_content_id could contain commas\n\n          const delimiter = decoded.indexOf(\",\");\n          return {\n            media_content_type: decoded.substring(0, delimiter),\n            media_content_id: decoded.substring(delimiter + 1)\n          };\n        })];\n        this._currentItem = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_goBack\",\n      value: function _goBack() {\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(this._entityId, this._navigateIds.slice(0, -1)));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaBrowsed\",\n      value: function _mediaBrowsed(ev) {\n        if (ev.detail.ids === this._navigateIds) {\n          this._currentItem = ev.detail.current;\n          return;\n        }\n\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(this._entityId, ev.detail.ids), {\n          replace: ev.detail.replace\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaPicked\",\n      value: async function _mediaPicked(ev) {\n        const item = ev.detail.item;\n\n        if (this._entityId !== _data_media_player__WEBPACK_IMPORTED_MODULE_12__.BROWSER_PLAYER) {\n          this._player.showResolvingNewMediaPicked();\n\n          try {\n            await this.hass.callService(\"media_player\", \"play_media\", {\n              entity_id: this._entityId,\n              media_content_id: item.media_content_id,\n              media_content_type: item.media_content_type\n            });\n          } catch (err) {\n            this._player.hideResolvingNewMediaPicked();\n          }\n\n          return;\n        } // We won't cancel current media being played if we're going to\n        // open a camera.\n\n\n        if ((0,_data_camera__WEBPACK_IMPORTED_MODULE_19__.isCameraMediaSource)(item.media_content_id)) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"hass-more-info\", {\n            entityId: (0,_data_camera__WEBPACK_IMPORTED_MODULE_19__.getEntityIdFromCameraMediaSource)(item.media_content_id)\n          });\n          return;\n        }\n\n        this._player.showResolvingNewMediaPicked();\n\n        let resolvedUrl;\n\n        try {\n          resolvedUrl = await (0,_data_media_source__WEBPACK_IMPORTED_MODULE_13__.resolveMediaSource)(this.hass, item.media_content_id);\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n            title: this.hass.localize(\"ui.components.media-browser.media_browsing_error\"),\n            text: err.message\n          });\n\n          this._player.hideResolvingNewMediaPicked();\n\n          return;\n        }\n\n        if (resolvedUrl.mime_type.startsWith(\"audio/\")) {\n          this._player.playItem(item, resolvedUrl);\n\n          return;\n        }\n\n        (0,_show_media_player_dialog__WEBPACK_IMPORTED_MODULE_17__.showWebBrowserPlayMediaDialog)(this, {\n          sourceUrl: resolvedUrl.url,\n          sourceType: resolvedUrl.mime_type,\n          title: item.title,\n          can_play: item.can_play\n        });\n\n        this._player.hideResolvingNewMediaPicked();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_playerPicked\",\n      value: function _playerPicked(ev) {\n        const entityId = ev.detail.entityId;\n\n        if (entityId === this._entityId) {\n          return;\n        }\n\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(entityId, this._navigateIds));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_refreshMedia\",\n      value: function _refreshMedia() {\n        this._browser.refresh();\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_15__.haStyle, lit__WEBPACK_IMPORTED_MODULE_3__.css`\n        app-toolbar {\n          --mdc-theme-primary: var(--app-header-text-color);\n        }\n\n        ha-media-player-browse {\n          height: calc(100vh - (100px + var(--header-height)));\n        }\n\n        :host([narrow]) ha-media-player-browse {\n          height: calc(100vh - (80px + var(--header-height)));\n        }\n\n        ha-bar-media-player {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtcGFuZWwtbWVkaWEtYnJvd3Nlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUtBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7O0FBR0E7QUFEQTtBQUNBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7O0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7Ozs7QUFFQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFHQTs7Ozs7QUFFQTs7Ozs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFGQTs7Ozs7QUFNQTs7OztBQUNBOzs7OztBQUVBOzs7OztBQUVBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFEQTtBQUhBO0FBUUE7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUZBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBRUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFHQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQURBO0FBR0E7Ozs7QUFFQTtBQUdBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBOztBQUVBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUpBOztBQU1BOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTs7QUFNQTtBQUNBOzs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBOU9BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtcGFuZWwtbWVkaWEtYnJvd3Nlci50cz8xYWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1kaUFycm93TGVmdCB9IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgXCJAcG9seW1lci9hcHAtbGF5b3V0L2FwcC1oZWFkZXIvYXBwLWhlYWRlclwiO1xuaW1wb3J0IFwiQHBvbHltZXIvYXBwLWxheW91dC9hcHAtdG9vbGJhci9hcHAtdG9vbGJhclwiO1xuaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1idXR0b25cIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kZWNvcmF0b3JzL2xvY2FsLXN0b3JhZ2VcIjtcbmltcG9ydCB7IGZpcmVFdmVudCwgSEFTU0RvbUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgbmF2aWdhdGUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL25hdmlnYXRlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLW1lbnUtYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL21lZGlhLXBsYXllci9oYS1tZWRpYS1wbGF5ZXItYnJvd3NlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL21lZGlhLXBsYXllci9oYS1tZWRpYS1tYW5hZ2UtYnV0dG9uXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEhhTWVkaWFQbGF5ZXJCcm93c2UsXG4gIE1lZGlhUGxheWVySXRlbUlkLFxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9tZWRpYS1wbGF5ZXIvaGEtbWVkaWEtcGxheWVyLWJyb3dzZVwiO1xuaW1wb3J0IHtcbiAgQlJPV1NFUl9QTEFZRVIsXG4gIE1lZGlhUGlja2VkRXZlbnQsXG4gIE1lZGlhUGxheWVySXRlbSxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvbWVkaWEtcGxheWVyXCI7XG5pbXBvcnQge1xuICBSZXNvbHZlZE1lZGlhU291cmNlLFxuICByZXNvbHZlTWVkaWFTb3VyY2UsXG59IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhX3NvdXJjZVwiO1xuaW1wb3J0IFwiLi4vLi4vbGF5b3V0cy9oYS1hcHAtbGF5b3V0XCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCwgUm91dGUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGEtYmFyLW1lZGlhLXBsYXllclwiO1xuaW1wb3J0IHR5cGUgeyBCYXJNZWRpYVBsYXllciB9IGZyb20gXCIuL2hhLWJhci1tZWRpYS1wbGF5ZXJcIjtcbmltcG9ydCB7IHNob3dXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nIH0gZnJvbSBcIi4vc2hvdy1tZWRpYS1wbGF5ZXItZGlhbG9nXCI7XG5pbXBvcnQgeyBzaG93QWxlcnREaWFsb2cgfSBmcm9tIFwiLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IHtcbiAgZ2V0RW50aXR5SWRGcm9tQ2FtZXJhTWVkaWFTb3VyY2UsXG4gIGlzQ2FtZXJhTWVkaWFTb3VyY2UsXG59IGZyb20gXCIuLi8uLi9kYXRhL2NhbWVyYVwiO1xuXG5jb25zdCBjcmVhdGVNZWRpYVBhbmVsVXJsID0gKGVudGl0eUlkOiBzdHJpbmcsIGl0ZW1zOiBNZWRpYVBsYXllckl0ZW1JZFtdKSA9PiB7XG4gIGxldCBwYXRoID0gYC9tZWRpYS1icm93c2VyLyR7ZW50aXR5SWR9YDtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zLnNsaWNlKDEpKSB7XG4gICAgcGF0aCArPVxuICAgICAgXCIvXCIgK1xuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGAke2l0ZW0ubWVkaWFfY29udGVudF90eXBlfSwke2l0ZW0ubWVkaWFfY29udGVudF9pZH1gKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtcGFuZWwtbWVkaWEtYnJvd3NlclwiKVxuY2xhc3MgUGFuZWxNZWRpYUJyb3dzZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuICBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgcm91dGUhOiBSb3V0ZTtcblxuICBAc3RhdGUoKSBfY3VycmVudEl0ZW0/OiBNZWRpYVBsYXllckl0ZW07XG5cbiAgcHJpdmF0ZSBfbmF2aWdhdGVJZHM6IE1lZGlhUGxheWVySXRlbUlkW10gPSBbXG4gICAge1xuICAgICAgbWVkaWFfY29udGVudF9pZDogdW5kZWZpbmVkLFxuICAgICAgbWVkaWFfY29udGVudF90eXBlOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgXTtcblxuICBATG9jYWxTdG9yYWdlKFwibWVkaWFCcm93c2VFbnRpdHlJZFwiLCB0cnVlLCBmYWxzZSlcbiAgcHJpdmF0ZSBfZW50aXR5SWQgPSBCUk9XU0VSX1BMQVlFUjtcblxuICBAcXVlcnkoXCJoYS1tZWRpYS1wbGF5ZXItYnJvd3NlXCIpIHByaXZhdGUgX2Jyb3dzZXIhOiBIYU1lZGlhUGxheWVyQnJvd3NlO1xuXG4gIEBxdWVyeShcImhhLWJhci1tZWRpYS1wbGF5ZXJcIikgcHJpdmF0ZSBfcGxheWVyITogQmFyTWVkaWFQbGF5ZXI7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtYXBwLWxheW91dD5cbiAgICAgICAgPGFwcC1oZWFkZXIgZml4ZWQgc2xvdD1cImhlYWRlclwiPlxuICAgICAgICAgIDxhcHAtdG9vbGJhcj5cbiAgICAgICAgICAgICR7dGhpcy5fbmF2aWdhdGVJZHMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHttZGlBcnJvd0xlZnR9XG4gICAgICAgICAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2dvQmFja31cbiAgICAgICAgICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgPGhhLW1lbnUtYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgICAgICAgICAgICA+PC9oYS1tZW51LWJ1dHRvbj5cbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPGRpdiBtYWluLXRpdGxlPlxuICAgICAgICAgICAgICAkeyF0aGlzLl9jdXJyZW50SXRlbVxuICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLmNvbXBvbmVudHMubWVkaWEtYnJvd3Nlci5tZWRpYS1wbGF5ZXItYnJvd3NlclwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiB0aGlzLl9jdXJyZW50SXRlbS50aXRsZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGhhLW1lZGlhLW1hbmFnZS1idXR0b25cbiAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgIC5jdXJyZW50SXRlbT0ke3RoaXMuX2N1cnJlbnRJdGVtfVxuICAgICAgICAgICAgICBAbWVkaWEtcmVmcmVzaD0ke3RoaXMuX3JlZnJlc2hNZWRpYX1cbiAgICAgICAgICAgID48L2hhLW1lZGlhLW1hbmFnZS1idXR0b24+XG4gICAgICAgICAgPC9hcHAtdG9vbGJhcj5cbiAgICAgICAgPC9hcHAtaGVhZGVyPlxuICAgICAgICA8aGEtbWVkaWEtcGxheWVyLWJyb3dzZVxuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgIC5lbnRpdHlJZD0ke3RoaXMuX2VudGl0eUlkfVxuICAgICAgICAgIC5uYXZpZ2F0ZUlkcz0ke3RoaXMuX25hdmlnYXRlSWRzfVxuICAgICAgICAgIEBtZWRpYS1waWNrZWQ9JHt0aGlzLl9tZWRpYVBpY2tlZH1cbiAgICAgICAgICBAbWVkaWEtYnJvd3NlZD0ke3RoaXMuX21lZGlhQnJvd3NlZH1cbiAgICAgICAgPjwvaGEtbWVkaWEtcGxheWVyLWJyb3dzZT5cbiAgICAgIDwvaGEtYXBwLWxheW91dD5cbiAgICAgIDxoYS1iYXItbWVkaWEtcGxheWVyXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZW50aXR5SWQ9JHt0aGlzLl9lbnRpdHlJZH1cbiAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICBAcGxheWVyLXBpY2tlZD0ke3RoaXMuX3BsYXllclBpY2tlZH1cbiAgICAgID48L2hhLWJhci1tZWRpYS1wbGF5ZXI+XG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBzdXBlci53aWxsVXBkYXRlKGNoYW5nZWRQcm9wcyk7XG5cbiAgICBpZiAoIWNoYW5nZWRQcm9wcy5oYXMoXCJyb3V0ZVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJvdXRlLnBhdGggPT09IFwiXCIpIHtcbiAgICAgIG5hdmlnYXRlKGAvbWVkaWEtYnJvd3Nlci8ke3RoaXMuX2VudGl0eUlkfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBbcm91dGVQbGF5ZXIsIC4uLm5hdmlnYXRlSWRzRW5jb2RlZF0gPSB0aGlzLnJvdXRlLnBhdGhcbiAgICAgIC5zdWJzdHJpbmcoMSlcbiAgICAgIC5zcGxpdChcIi9cIik7XG5cbiAgICBpZiAocm91dGVQbGF5ZXIgIT09IHRoaXMuX2VudGl0eUlkKSB7XG4gICAgICAvLyBEZXRlY3QgaWYgcGlja2VkIHBsYXllciBkb2Vzbid0IGV4aXN0IChhbnltb3JlKVxuICAgICAgLy8gQ2FuIGhhcHBlbiBpZiBVUkwgYm9va21hcmtlZCBvciBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgaWYgKFxuICAgICAgICByb3V0ZVBsYXllciAhPT0gQlJPV1NFUl9QTEFZRVIgJiZcbiAgICAgICAgdGhpcy5oYXNzLnN0YXRlc1tyb3V0ZVBsYXllcl0gPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIG5hdmlnYXRlKGAvbWVkaWEtYnJvd3Nlci8ke0JST1dTRVJfUExBWUVSfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLm1lZGlhLWJyb3dzZXIuZXJyb3IucGxheWVyX25vdF9leGlzdFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiByb3V0ZVBsYXllcixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZW50aXR5SWQgPSByb3V0ZVBsYXllcjtcbiAgICB9XG5cbiAgICB0aGlzLl9uYXZpZ2F0ZUlkcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbWVkaWFfY29udGVudF90eXBlOiB1bmRlZmluZWQsXG4gICAgICAgIG1lZGlhX2NvbnRlbnRfaWQ6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICAuLi5uYXZpZ2F0ZUlkc0VuY29kZWQubWFwKChuYXZpZ2F0ZUlkKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVVUklDb21wb25lbnQobmF2aWdhdGVJZCk7XG4gICAgICAgIC8vIERvbid0IHVzZSBzcGxpdCBiZWNhdXNlIG1lZGlhX2NvbnRlbnRfaWQgY291bGQgY29udGFpbiBjb21tYXNcbiAgICAgICAgY29uc3QgZGVsaW1pdGVyID0gZGVjb2RlZC5pbmRleE9mKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZWRpYV9jb250ZW50X3R5cGU6IGRlY29kZWQuc3Vic3RyaW5nKDAsIGRlbGltaXRlciksXG4gICAgICAgICAgbWVkaWFfY29udGVudF9pZDogZGVjb2RlZC5zdWJzdHJpbmcoZGVsaW1pdGVyICsgMSksXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICBdO1xuICAgIHRoaXMuX2N1cnJlbnRJdGVtID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ29CYWNrKCkge1xuICAgIG5hdmlnYXRlKFxuICAgICAgY3JlYXRlTWVkaWFQYW5lbFVybCh0aGlzLl9lbnRpdHlJZCwgdGhpcy5fbmF2aWdhdGVJZHMuc2xpY2UoMCwgLTEpKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9tZWRpYUJyb3dzZWQoZXY6IHsgZGV0YWlsOiBIQVNTRG9tRXZlbnRzW1wibWVkaWEtYnJvd3NlZFwiXSB9KSB7XG4gICAgaWYgKGV2LmRldGFpbC5pZHMgPT09IHRoaXMuX25hdmlnYXRlSWRzKSB7XG4gICAgICB0aGlzLl9jdXJyZW50SXRlbSA9IGV2LmRldGFpbC5jdXJyZW50O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hdmlnYXRlKGNyZWF0ZU1lZGlhUGFuZWxVcmwodGhpcy5fZW50aXR5SWQsIGV2LmRldGFpbC5pZHMpLCB7XG4gICAgICByZXBsYWNlOiBldi5kZXRhaWwucmVwbGFjZSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX21lZGlhUGlja2VkKFxuICAgIGV2OiBIQVNTRG9tRXZlbnQ8TWVkaWFQaWNrZWRFdmVudD5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgaXRlbSA9IGV2LmRldGFpbC5pdGVtO1xuXG4gICAgaWYgKHRoaXMuX2VudGl0eUlkICE9PSBCUk9XU0VSX1BMQVlFUikge1xuICAgICAgdGhpcy5fcGxheWVyLnNob3dSZXNvbHZpbmdOZXdNZWRpYVBpY2tlZCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5oYXNzIS5jYWxsU2VydmljZShcIm1lZGlhX3BsYXllclwiLCBcInBsYXlfbWVkaWFcIiwge1xuICAgICAgICAgIGVudGl0eV9pZDogdGhpcy5fZW50aXR5SWQsXG4gICAgICAgICAgbWVkaWFfY29udGVudF9pZDogaXRlbS5tZWRpYV9jb250ZW50X2lkLFxuICAgICAgICAgIG1lZGlhX2NvbnRlbnRfdHlwZTogaXRlbS5tZWRpYV9jb250ZW50X3R5cGUsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuX3BsYXllci5oaWRlUmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSB3b24ndCBjYW5jZWwgY3VycmVudCBtZWRpYSBiZWluZyBwbGF5ZWQgaWYgd2UncmUgZ29pbmcgdG9cbiAgICAvLyBvcGVuIGEgY2FtZXJhLlxuICAgIGlmIChpc0NhbWVyYU1lZGlhU291cmNlKGl0ZW0ubWVkaWFfY29udGVudF9pZCkpIHtcbiAgICAgIGZpcmVFdmVudCh0aGlzLCBcImhhc3MtbW9yZS1pbmZvXCIsIHtcbiAgICAgICAgZW50aXR5SWQ6IGdldEVudGl0eUlkRnJvbUNhbWVyYU1lZGlhU291cmNlKGl0ZW0ubWVkaWFfY29udGVudF9pZCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wbGF5ZXIuc2hvd1Jlc29sdmluZ05ld01lZGlhUGlja2VkKCk7XG4gICAgbGV0IHJlc29sdmVkVXJsOiBSZXNvbHZlZE1lZGlhU291cmNlO1xuICAgIHRyeSB7XG4gICAgICByZXNvbHZlZFVybCA9IGF3YWl0IHJlc29sdmVNZWRpYVNvdXJjZSh0aGlzLmhhc3MsIGl0ZW0ubWVkaWFfY29udGVudF9pZCk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5jb21wb25lbnRzLm1lZGlhLWJyb3dzZXIubWVkaWFfYnJvd3NpbmdfZXJyb3JcIlxuICAgICAgICApLFxuICAgICAgICB0ZXh0OiBlcnIubWVzc2FnZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fcGxheWVyLmhpZGVSZXNvbHZpbmdOZXdNZWRpYVBpY2tlZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZXNvbHZlZFVybC5taW1lX3R5cGUuc3RhcnRzV2l0aChcImF1ZGlvL1wiKSkge1xuICAgICAgdGhpcy5fcGxheWVyLnBsYXlJdGVtKGl0ZW0sIHJlc29sdmVkVXJsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzaG93V2ViQnJvd3NlclBsYXlNZWRpYURpYWxvZyh0aGlzLCB7XG4gICAgICBzb3VyY2VVcmw6IHJlc29sdmVkVXJsLnVybCxcbiAgICAgIHNvdXJjZVR5cGU6IHJlc29sdmVkVXJsLm1pbWVfdHlwZSxcbiAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxuICAgICAgY2FuX3BsYXk6IGl0ZW0uY2FuX3BsYXksXG4gICAgfSk7XG4gICAgdGhpcy5fcGxheWVyLmhpZGVSZXNvbHZpbmdOZXdNZWRpYVBpY2tlZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcGxheWVyUGlja2VkKGV2KSB7XG4gICAgY29uc3QgZW50aXR5SWQ6IHN0cmluZyA9IGV2LmRldGFpbC5lbnRpdHlJZDtcbiAgICBpZiAoZW50aXR5SWQgPT09IHRoaXMuX2VudGl0eUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRlKGNyZWF0ZU1lZGlhUGFuZWxVcmwoZW50aXR5SWQsIHRoaXMuX25hdmlnYXRlSWRzKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoTWVkaWEoKSB7XG4gICAgdGhpcy5fYnJvd3Nlci5yZWZyZXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGUsXG4gICAgICBjc3NgXG4gICAgICAgIGFwcC10b29sYmFyIHtcbiAgICAgICAgICAtLW1kYy10aGVtZS1wcmltYXJ5OiB2YXIoLS1hcHAtaGVhZGVyLXRleHQtY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGEtbWVkaWEtcGxheWVyLWJyb3dzZSB7XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKDEwMHB4ICsgdmFyKC0taGVhZGVyLWhlaWdodCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KFtuYXJyb3ddKSBoYS1tZWRpYS1wbGF5ZXItYnJvd3NlIHtcbiAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAoODBweCArIHZhcigtLWhlYWRlci1oZWlnaHQpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBoYS1iYXItbWVkaWEtcGxheWVyIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtcGFuZWwtbWVkaWEtYnJvd3NlclwiOiBQYW5lbE1lZGlhQnJvd3NlcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/media-browser/ha-panel-media-browser.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/show-media-player-dialog.ts":
/*!**************************************************************!*\
  !*** ./src/panels/media-browser/show-media-player-dialog.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"showWebBrowserPlayMediaDialog\": () => (/* binding */ showWebBrowserPlayMediaDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst showWebBrowserPlayMediaDialog = (element, webBrowserPlayMediaDialogParams) => {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"hui-dialog-web-browser-play-media\",\n    dialogImport: () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_components_ha-alert_ts\"), __webpack_require__.e(\"src_components_ha-hls-player_ts\"), __webpack_require__.e(\"src_panels_media-browser_hui-dialog-web-browser-play-media_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./hui-dialog-web-browser-play-media */ \"./src/panels/media-browser/hui-dialog-web-browser-play-media.ts\")),\n    dialogParams: webBrowserPlayMediaDialogParams\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvc2hvdy1tZWRpYS1wbGF5ZXItZGlhbG9nLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFTQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9tZWRpYS1icm93c2VyL3Nob3ctbWVkaWEtcGxheWVyLWRpYWxvZy50cz84OWYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nUGFyYW1zIHtcbiAgc291cmNlVXJsOiBzdHJpbmc7XG4gIHNvdXJjZVR5cGU6IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGNhbl9wbGF5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHNob3dXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgd2ViQnJvd3NlclBsYXlNZWRpYURpYWxvZ1BhcmFtczogV2ViQnJvd3NlclBsYXlNZWRpYURpYWxvZ1BhcmFtc1xuKTogdm9pZCA9PiB7XG4gIGZpcmVFdmVudChlbGVtZW50LCBcInNob3ctZGlhbG9nXCIsIHtcbiAgICBkaWFsb2dUYWc6IFwiaHVpLWRpYWxvZy13ZWItYnJvd3Nlci1wbGF5LW1lZGlhXCIsXG4gICAgZGlhbG9nSW1wb3J0OiAoKSA9PiBpbXBvcnQoXCIuL2h1aS1kaWFsb2ctd2ViLWJyb3dzZXItcGxheS1tZWRpYVwiKSxcbiAgICBkaWFsb2dQYXJhbXM6IHdlYkJyb3dzZXJQbGF5TWVkaWFEaWFsb2dQYXJhbXMsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/media-browser/show-media-player-dialog.ts\n");

/***/ })

}]);