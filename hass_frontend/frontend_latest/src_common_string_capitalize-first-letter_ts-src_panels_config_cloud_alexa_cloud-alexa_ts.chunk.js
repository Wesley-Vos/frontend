"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_common_string_capitalize-first-letter_ts-src_panels_config_cloud_alexa_cloud-alexa_ts"],{

/***/ "./src/common/entity/compute_object_id.ts":
/*!************************************************!*\
  !*** ./src/common/entity/compute_object_id.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeObjectId\": () => (/* binding */ computeObjectId)\n/* harmony export */ });\n/** Compute the object ID of a state. */\nconst computeObjectId = entityId => entityId.substr(entityId.indexOf(\".\") + 1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX29iamVjdF9pZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9vYmplY3RfaWQudHM/NmIxNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29tcHV0ZSB0aGUgb2JqZWN0IElEIG9mIGEgc3RhdGUuICovXG5leHBvcnQgY29uc3QgY29tcHV0ZU9iamVjdElkID0gKGVudGl0eUlkOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgZW50aXR5SWQuc3Vic3RyKGVudGl0eUlkLmluZGV4T2YoXCIuXCIpICsgMSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/entity/compute_object_id.ts\n");

/***/ }),

/***/ "./src/common/entity/compute_state_name.ts":
/*!*************************************************!*\
  !*** ./src/common/entity/compute_state_name.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeStateName\": () => (/* binding */ computeStateName)\n/* harmony export */ });\n/* harmony import */ var _compute_object_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compute_object_id */ \"./src/common/entity/compute_object_id.ts\");\n\nconst computeStateName = stateObj => stateObj.attributes.friendly_name === undefined ? (0,_compute_object_id__WEBPACK_IMPORTED_MODULE_0__.computeObjectId)(stateObj.entity_id).replace(/_/g, \" \") : stateObj.attributes.friendly_name || \"\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWUudHM/MzIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY29tcHV0ZU9iamVjdElkIH0gZnJvbSBcIi4vY29tcHV0ZV9vYmplY3RfaWRcIjtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVTdGF0ZU5hbWUgPSAoc3RhdGVPYmo6IEhhc3NFbnRpdHkpOiBzdHJpbmcgPT5cbiAgc3RhdGVPYmouYXR0cmlidXRlcy5mcmllbmRseV9uYW1lID09PSB1bmRlZmluZWRcbiAgICA/IGNvbXB1dGVPYmplY3RJZChzdGF0ZU9iai5lbnRpdHlfaWQpLnJlcGxhY2UoL18vZywgXCIgXCIpXG4gICAgOiBzdGF0ZU9iai5hdHRyaWJ1dGVzLmZyaWVuZGx5X25hbWUgfHwgXCJcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/entity/compute_state_name.ts\n");

/***/ }),

/***/ "./src/common/entity/entity_filter.ts":
/*!********************************************!*\
  !*** ./src/common/entity/entity_filter.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isEmptyFilter\": () => (/* binding */ isEmptyFilter),\n/* harmony export */   \"generateFilter\": () => (/* binding */ generateFilter)\n/* harmony export */ });\n/* harmony import */ var _compute_domain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compute_domain */ \"./src/common/entity/compute_domain.ts\");\n\nconst isEmptyFilter = filter => filter.include_domains.length + filter.include_entities.length + filter.exclude_domains.length + filter.exclude_entities.length === 0;\nconst generateFilter = (includeDomains, includeEntities, excludeDomains, excludeEntities) => {\n  const includeDomainsSet = new Set(includeDomains);\n  const includeEntitiesSet = new Set(includeEntities);\n  const excludeDomainsSet = new Set(excludeDomains);\n  const excludeEntitiesSet = new Set(excludeEntities);\n  const haveInclude = includeDomainsSet.size > 0 || includeEntitiesSet.size > 0;\n  const haveExclude = excludeDomainsSet.size > 0 || excludeEntitiesSet.size > 0; // Case 1 - no includes or excludes - pass all entities\n\n  if (!haveInclude && !haveExclude) {\n    return () => true;\n  } // Case 2 - includes, no excludes - only include specified entities\n\n\n  if (haveInclude && !haveExclude) {\n    return entityId => includeEntitiesSet.has(entityId) || includeDomainsSet.has((0,_compute_domain__WEBPACK_IMPORTED_MODULE_0__.computeDomain)(entityId));\n  } // Case 3 - excludes, no includes - only exclude specified entities\n\n\n  if (!haveInclude && haveExclude) {\n    return entityId => !excludeEntitiesSet.has(entityId) && !excludeDomainsSet.has((0,_compute_domain__WEBPACK_IMPORTED_MODULE_0__.computeDomain)(entityId));\n  } // Case 4 - both includes and excludes specified\n  // Case 4a - include domain specified\n  //  - if domain is included, pass if entity not excluded\n  //  - if domain is not included, pass if entity is included\n  // note: if both include and exclude domains specified,\n  //   the exclude domains are ignored\n\n\n  if (includeDomainsSet.size) {\n    return entityId => includeDomainsSet.has((0,_compute_domain__WEBPACK_IMPORTED_MODULE_0__.computeDomain)(entityId)) ? !excludeEntitiesSet.has(entityId) : includeEntitiesSet.has(entityId);\n  } // Case 4b - exclude domain specified\n  //  - if domain is excluded, pass if entity is included\n  //  - if domain is not excluded, pass if entity not excluded\n\n\n  if (excludeDomainsSet.size) {\n    return entityId => excludeDomainsSet.has((0,_compute_domain__WEBPACK_IMPORTED_MODULE_0__.computeDomain)(entityId)) ? includeEntitiesSet.has(entityId) : !excludeEntitiesSet.has(entityId);\n  } // Case 4c - neither include or exclude domain specified\n  //  - Only pass if entity is included.  Ignore entity excludes.\n\n\n  return entityId => includeEntitiesSet.has(entityId);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9lbnRpdHlfZmlsdGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBV0E7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFHQTs7O0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUlBO0FBR0E7OztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vZW50aXR5L2VudGl0eV9maWx0ZXIudHM/ZGViNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlRG9tYWluIH0gZnJvbSBcIi4vY29tcHV0ZV9kb21haW5cIjtcblxuZXhwb3J0IHR5cGUgRmlsdGVyRnVuYyA9IChlbnRpdHlJZDogc3RyaW5nKSA9PiBib29sZWFuO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eUZpbHRlciB7XG4gIGluY2x1ZGVfZG9tYWluczogc3RyaW5nW107XG4gIGluY2x1ZGVfZW50aXRpZXM6IHN0cmluZ1tdO1xuICBleGNsdWRlX2RvbWFpbnM6IHN0cmluZ1tdO1xuICBleGNsdWRlX2VudGl0aWVzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNvbnN0IGlzRW1wdHlGaWx0ZXIgPSAoZmlsdGVyOiBFbnRpdHlGaWx0ZXIpID0+XG4gIGZpbHRlci5pbmNsdWRlX2RvbWFpbnMubGVuZ3RoICtcbiAgICBmaWx0ZXIuaW5jbHVkZV9lbnRpdGllcy5sZW5ndGggK1xuICAgIGZpbHRlci5leGNsdWRlX2RvbWFpbnMubGVuZ3RoICtcbiAgICBmaWx0ZXIuZXhjbHVkZV9lbnRpdGllcy5sZW5ndGggPT09XG4gIDA7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUZpbHRlciA9IChcbiAgaW5jbHVkZURvbWFpbnM/OiBzdHJpbmdbXSxcbiAgaW5jbHVkZUVudGl0aWVzPzogc3RyaW5nW10sXG4gIGV4Y2x1ZGVEb21haW5zPzogc3RyaW5nW10sXG4gIGV4Y2x1ZGVFbnRpdGllcz86IHN0cmluZ1tdXG4pOiBGaWx0ZXJGdW5jID0+IHtcbiAgY29uc3QgaW5jbHVkZURvbWFpbnNTZXQgPSBuZXcgU2V0KGluY2x1ZGVEb21haW5zKTtcbiAgY29uc3QgaW5jbHVkZUVudGl0aWVzU2V0ID0gbmV3IFNldChpbmNsdWRlRW50aXRpZXMpO1xuICBjb25zdCBleGNsdWRlRG9tYWluc1NldCA9IG5ldyBTZXQoZXhjbHVkZURvbWFpbnMpO1xuICBjb25zdCBleGNsdWRlRW50aXRpZXNTZXQgPSBuZXcgU2V0KGV4Y2x1ZGVFbnRpdGllcyk7XG5cbiAgY29uc3QgaGF2ZUluY2x1ZGUgPSBpbmNsdWRlRG9tYWluc1NldC5zaXplID4gMCB8fCBpbmNsdWRlRW50aXRpZXNTZXQuc2l6ZSA+IDA7XG4gIGNvbnN0IGhhdmVFeGNsdWRlID0gZXhjbHVkZURvbWFpbnNTZXQuc2l6ZSA+IDAgfHwgZXhjbHVkZUVudGl0aWVzU2V0LnNpemUgPiAwO1xuXG4gIC8vIENhc2UgMSAtIG5vIGluY2x1ZGVzIG9yIGV4Y2x1ZGVzIC0gcGFzcyBhbGwgZW50aXRpZXNcbiAgaWYgKCFoYXZlSW5jbHVkZSAmJiAhaGF2ZUV4Y2x1ZGUpIHtcbiAgICByZXR1cm4gKCkgPT4gdHJ1ZTtcbiAgfVxuXG4gIC8vIENhc2UgMiAtIGluY2x1ZGVzLCBubyBleGNsdWRlcyAtIG9ubHkgaW5jbHVkZSBzcGVjaWZpZWQgZW50aXRpZXNcbiAgaWYgKGhhdmVJbmNsdWRlICYmICFoYXZlRXhjbHVkZSkge1xuICAgIHJldHVybiAoZW50aXR5SWQpID0+XG4gICAgICBpbmNsdWRlRW50aXRpZXNTZXQuaGFzKGVudGl0eUlkKSB8fFxuICAgICAgaW5jbHVkZURvbWFpbnNTZXQuaGFzKGNvbXB1dGVEb21haW4oZW50aXR5SWQpKTtcbiAgfVxuXG4gIC8vIENhc2UgMyAtIGV4Y2x1ZGVzLCBubyBpbmNsdWRlcyAtIG9ubHkgZXhjbHVkZSBzcGVjaWZpZWQgZW50aXRpZXNcbiAgaWYgKCFoYXZlSW5jbHVkZSAmJiBoYXZlRXhjbHVkZSkge1xuICAgIHJldHVybiAoZW50aXR5SWQpID0+XG4gICAgICAhZXhjbHVkZUVudGl0aWVzU2V0LmhhcyhlbnRpdHlJZCkgJiZcbiAgICAgICFleGNsdWRlRG9tYWluc1NldC5oYXMoY29tcHV0ZURvbWFpbihlbnRpdHlJZCkpO1xuICB9XG5cbiAgLy8gQ2FzZSA0IC0gYm90aCBpbmNsdWRlcyBhbmQgZXhjbHVkZXMgc3BlY2lmaWVkXG4gIC8vIENhc2UgNGEgLSBpbmNsdWRlIGRvbWFpbiBzcGVjaWZpZWRcbiAgLy8gIC0gaWYgZG9tYWluIGlzIGluY2x1ZGVkLCBwYXNzIGlmIGVudGl0eSBub3QgZXhjbHVkZWRcbiAgLy8gIC0gaWYgZG9tYWluIGlzIG5vdCBpbmNsdWRlZCwgcGFzcyBpZiBlbnRpdHkgaXMgaW5jbHVkZWRcbiAgLy8gbm90ZTogaWYgYm90aCBpbmNsdWRlIGFuZCBleGNsdWRlIGRvbWFpbnMgc3BlY2lmaWVkLFxuICAvLyAgIHRoZSBleGNsdWRlIGRvbWFpbnMgYXJlIGlnbm9yZWRcbiAgaWYgKGluY2x1ZGVEb21haW5zU2V0LnNpemUpIHtcbiAgICByZXR1cm4gKGVudGl0eUlkKSA9PlxuICAgICAgaW5jbHVkZURvbWFpbnNTZXQuaGFzKGNvbXB1dGVEb21haW4oZW50aXR5SWQpKVxuICAgICAgICA/ICFleGNsdWRlRW50aXRpZXNTZXQuaGFzKGVudGl0eUlkKVxuICAgICAgICA6IGluY2x1ZGVFbnRpdGllc1NldC5oYXMoZW50aXR5SWQpO1xuICB9XG5cbiAgLy8gQ2FzZSA0YiAtIGV4Y2x1ZGUgZG9tYWluIHNwZWNpZmllZFxuICAvLyAgLSBpZiBkb21haW4gaXMgZXhjbHVkZWQsIHBhc3MgaWYgZW50aXR5IGlzIGluY2x1ZGVkXG4gIC8vICAtIGlmIGRvbWFpbiBpcyBub3QgZXhjbHVkZWQsIHBhc3MgaWYgZW50aXR5IG5vdCBleGNsdWRlZFxuICBpZiAoZXhjbHVkZURvbWFpbnNTZXQuc2l6ZSkge1xuICAgIHJldHVybiAoZW50aXR5SWQpID0+XG4gICAgICBleGNsdWRlRG9tYWluc1NldC5oYXMoY29tcHV0ZURvbWFpbihlbnRpdHlJZCkpXG4gICAgICAgID8gaW5jbHVkZUVudGl0aWVzU2V0LmhhcyhlbnRpdHlJZClcbiAgICAgICAgOiAhZXhjbHVkZUVudGl0aWVzU2V0LmhhcyhlbnRpdHlJZCk7XG4gIH1cblxuICAvLyBDYXNlIDRjIC0gbmVpdGhlciBpbmNsdWRlIG9yIGV4Y2x1ZGUgZG9tYWluIHNwZWNpZmllZFxuICAvLyAgLSBPbmx5IHBhc3MgaWYgZW50aXR5IGlzIGluY2x1ZGVkLiAgSWdub3JlIGVudGl0eSBleGNsdWRlcy5cbiAgcmV0dXJuIChlbnRpdHlJZCkgPT4gaW5jbHVkZUVudGl0aWVzU2V0LmhhcyhlbnRpdHlJZCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/entity/entity_filter.ts\n");

/***/ }),

/***/ "./src/common/string/capitalize-first-letter.ts":
/*!******************************************************!*\
  !*** ./src/common/string/capitalize-first-letter.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"capitalizeFirstLetter\": () => (/* binding */ capitalizeFirstLetter)\n/* harmony export */ });\nconst capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3N0cmluZy9jYXBpdGFsaXplLWZpcnN0LWxldHRlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vc3RyaW5nL2NhcGl0YWxpemUtZmlyc3QtbGV0dGVyLnRzPzgxMjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNhcGl0YWxpemVGaXJzdExldHRlciA9IChzdHI6IHN0cmluZykgPT5cbiAgc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/string/capitalize-first-letter.ts\n");

/***/ }),

/***/ "./src/data/entity_registry.ts":
/*!*************************************!*\
  !*** ./src/data/entity_registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"findBatteryEntity\": () => (/* binding */ findBatteryEntity),\n/* harmony export */   \"findBatteryChargingEntity\": () => (/* binding */ findBatteryChargingEntity),\n/* harmony export */   \"computeEntityRegistryName\": () => (/* binding */ computeEntityRegistryName),\n/* harmony export */   \"getExtendedEntityRegistryEntry\": () => (/* binding */ getExtendedEntityRegistryEntry),\n/* harmony export */   \"updateEntityRegistryEntry\": () => (/* binding */ updateEntityRegistryEntry),\n/* harmony export */   \"removeEntityRegistryEntry\": () => (/* binding */ removeEntityRegistryEntry),\n/* harmony export */   \"fetchEntityRegistry\": () => (/* binding */ fetchEntityRegistry),\n/* harmony export */   \"subscribeEntityRegistry\": () => (/* binding */ subscribeEntityRegistry),\n/* harmony export */   \"sortEntityRegistryByName\": () => (/* binding */ sortEntityRegistryByName)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\n\n\nconst findBatteryEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery\");\nconst findBatteryChargingEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery_charging\");\nconst computeEntityRegistryName = (hass, entry) => {\n  if (entry.name) {\n    return entry.name;\n  }\n\n  const state = hass.states[entry.entity_id];\n  return state ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__.computeStateName)(state) : entry.entity_id;\n};\nconst getExtendedEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/get\",\n  entity_id: entityId\n});\nconst updateEntityRegistryEntry = (hass, entityId, updates) => hass.callWS({\n  type: \"config/entity_registry/update\",\n  entity_id: entityId,\n  ...updates\n});\nconst removeEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/remove\",\n  entity_id: entityId\n});\nconst fetchEntityRegistry = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list\"\n});\n\nconst subscribeEntityRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(() => fetchEntityRegistry(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\n\nconst subscribeEntityRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_3__.createCollection)(\"_entityRegistry\", fetchEntityRegistry, subscribeEntityRegistryUpdates, conn, onChange);\nconst sortEntityRegistryByName = entries => entries.sort((entry1, entry2) => (0,_common_string_compare__WEBPACK_IMPORTED_MODULE_1__.caseInsensitiveStringCompare)(entry1.name || \"\", entry2.name || \"\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9lbnRpdHlfcmVnaXN0cnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBNkNBO0FBVUE7QUFXQTtBQUlBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFEQTs7QUFJQTs7QUFnQkE7QUFZQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvZW50aXR5X3JlZ2lzdHJ5LnRzPzNhNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVOYW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9uYW1lXCI7XG5pbXBvcnQgeyBjYXNlSW5zZW5zaXRpdmVTdHJpbmdDb21wYXJlIH0gZnJvbSBcIi4uL2NvbW1vbi9zdHJpbmcvY29tcGFyZVwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeUVudHJ5IHtcbiAgZW50aXR5X2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG4gIGljb246IHN0cmluZyB8IG51bGw7XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG4gIGNvbmZpZ19lbnRyeV9pZDogc3RyaW5nIHwgbnVsbDtcbiAgZGV2aWNlX2lkOiBzdHJpbmcgfCBudWxsO1xuICBhcmVhX2lkOiBzdHJpbmcgfCBudWxsO1xuICBkaXNhYmxlZF9ieTogc3RyaW5nIHwgbnVsbDtcbiAgaGlkZGVuX2J5OiBzdHJpbmcgfCBudWxsO1xuICBlbnRpdHlfY2F0ZWdvcnk6IFwiY29uZmlnXCIgfCBcImRpYWdub3N0aWNcIiB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0RW50aXR5UmVnaXN0cnlFbnRyeSBleHRlbmRzIEVudGl0eVJlZ2lzdHJ5RW50cnkge1xuICB1bmlxdWVfaWQ6IHN0cmluZztcbiAgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgb3JpZ2luYWxfbmFtZT86IHN0cmluZztcbiAgb3JpZ2luYWxfaWNvbj86IHN0cmluZztcbiAgZGV2aWNlX2NsYXNzPzogc3RyaW5nO1xuICBvcmlnaW5hbF9kZXZpY2VfY2xhc3M/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRW50aXR5UmVnaXN0cnlFbnRyeVJlc3VsdCB7XG4gIGVudGl0eV9lbnRyeTogRXh0RW50aXR5UmVnaXN0cnlFbnRyeTtcbiAgcmVsb2FkX2RlbGF5PzogbnVtYmVyO1xuICByZXF1aXJlX3Jlc3RhcnQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eVJlZ2lzdHJ5RW50cnlVcGRhdGVQYXJhbXMge1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgaWNvbj86IHN0cmluZyB8IG51bGw7XG4gIGRldmljZV9jbGFzcz86IHN0cmluZyB8IG51bGw7XG4gIGFyZWFfaWQ/OiBzdHJpbmcgfCBudWxsO1xuICBkaXNhYmxlZF9ieT86IHN0cmluZyB8IG51bGw7XG4gIGhpZGRlbl9ieTogc3RyaW5nIHwgbnVsbDtcbiAgbmV3X2VudGl0eV9pZD86IHN0cmluZztcbiAgb3B0aW9uc19kb21haW4/OiBzdHJpbmc7XG4gIG9wdGlvbnM/OiB7XG4gICAgdW5pdF9vZl9tZWFzdXJlbWVudD86IHN0cmluZyB8IG51bGw7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBmaW5kQmF0dGVyeUVudGl0eSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXRpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXVxuKTogRW50aXR5UmVnaXN0cnlFbnRyeSB8IHVuZGVmaW5lZCA9PlxuICBlbnRpdGllcy5maW5kKFxuICAgIChlbnRpdHkpID0+XG4gICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXSAmJlxuICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0uYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09IFwiYmF0dGVyeVwiXG4gICk7XG5cbmV4cG9ydCBjb25zdCBmaW5kQmF0dGVyeUNoYXJnaW5nRW50aXR5ID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdGllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdXG4pOiBFbnRpdHlSZWdpc3RyeUVudHJ5IHwgdW5kZWZpbmVkID0+XG4gIGVudGl0aWVzLmZpbmQoXG4gICAgKGVudGl0eSkgPT5cbiAgICAgIGhhc3Muc3RhdGVzW2VudGl0eS5lbnRpdHlfaWRdICYmXG4gICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXS5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcyA9PT1cbiAgICAgICAgXCJiYXR0ZXJ5X2NoYXJnaW5nXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVFbnRpdHlSZWdpc3RyeU5hbWUgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudHJ5OiBFbnRpdHlSZWdpc3RyeUVudHJ5XG4pOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKGVudHJ5Lm5hbWUpIHtcbiAgICByZXR1cm4gZW50cnkubmFtZTtcbiAgfVxuICBjb25zdCBzdGF0ZSA9IGhhc3Muc3RhdGVzW2VudHJ5LmVudGl0eV9pZF07XG4gIHJldHVybiBzdGF0ZSA/IGNvbXB1dGVTdGF0ZU5hbWUoc3RhdGUpIDogZW50cnkuZW50aXR5X2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEV4dGVuZGVkRW50aXR5UmVnaXN0cnlFbnRyeSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxFeHRFbnRpdHlSZWdpc3RyeUVudHJ5PiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L2dldFwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRW50aXR5UmVnaXN0cnlFbnRyeSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5SWQ6IHN0cmluZyxcbiAgdXBkYXRlczogUGFydGlhbDxFbnRpdHlSZWdpc3RyeUVudHJ5VXBkYXRlUGFyYW1zPlxuKTogUHJvbWlzZTxVcGRhdGVFbnRpdHlSZWdpc3RyeUVudHJ5UmVzdWx0PiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L3VwZGF0ZVwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gICAgLi4udXBkYXRlcyxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCByZW1vdmVFbnRpdHlSZWdpc3RyeUVudHJ5ID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvcmVtb3ZlXCIsXG4gICAgZW50aXR5X2lkOiBlbnRpdHlJZCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEVudGl0eVJlZ2lzdHJ5ID0gKGNvbm46IENvbm5lY3Rpb24pID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPEVudGl0eVJlZ2lzdHJ5RW50cnlbXT4oe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS9saXN0XCIsXG4gIH0pO1xuXG5jb25zdCBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeVVwZGF0ZXMgPSAoXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIHN0b3JlOiBTdG9yZTxFbnRpdHlSZWdpc3RyeUVudHJ5W10+XG4pID0+XG4gIGNvbm4uc3Vic2NyaWJlRXZlbnRzKFxuICAgIGRlYm91bmNlKFxuICAgICAgKCkgPT5cbiAgICAgICAgZmV0Y2hFbnRpdHlSZWdpc3RyeShjb25uKS50aGVuKChlbnRpdGllcykgPT5cbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShlbnRpdGllcywgdHJ1ZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMCxcbiAgICAgIHRydWVcbiAgICApLFxuICAgIFwiZW50aXR5X3JlZ2lzdHJ5X3VwZGF0ZWRcIlxuICApO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnkgPSAoXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIG9uQ2hhbmdlOiAoZW50aXRpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSkgPT4gdm9pZFxuKSA9PlxuICBjcmVhdGVDb2xsZWN0aW9uPEVudGl0eVJlZ2lzdHJ5RW50cnlbXT4oXG4gICAgXCJfZW50aXR5UmVnaXN0cnlcIixcbiAgICBmZXRjaEVudGl0eVJlZ2lzdHJ5LFxuICAgIHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5VXBkYXRlcyxcbiAgICBjb25uLFxuICAgIG9uQ2hhbmdlXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzb3J0RW50aXR5UmVnaXN0cnlCeU5hbWUgPSAoZW50cmllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdKSA9PlxuICBlbnRyaWVzLnNvcnQoKGVudHJ5MSwgZW50cnkyKSA9PlxuICAgIGNhc2VJbnNlbnNpdGl2ZVN0cmluZ0NvbXBhcmUoZW50cnkxLm5hbWUgfHwgXCJcIiwgZW50cnkyLm5hbWUgfHwgXCJcIilcbiAgKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/entity_registry.ts\n");

/***/ }),

/***/ "./src/dialogs/domain-toggler/show-dialog-domain-toggler.ts":
/*!******************************************************************!*\
  !*** ./src/dialogs/domain-toggler/show-dialog-domain-toggler.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadDomainTogglerDialog\": () => (/* binding */ loadDomainTogglerDialog),\n/* harmony export */   \"showDomainTogglerDialog\": () => (/* binding */ showDomainTogglerDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst loadDomainTogglerDialog = () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_dialogs_domain-toggler_dialog-domain-toggler_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-domain-toggler */ \"./src/dialogs/domain-toggler/dialog-domain-toggler.ts\"));\nconst showDomainTogglerDialog = (element, dialogParams) => {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"dialog-domain-toggler\",\n    dialogImport: loadDomainTogglerDialog,\n    dialogParams\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlhbG9ncy9kb21haW4tdG9nZ2xlci9zaG93LWRpYWxvZy1kb21haW4tdG9nZ2xlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQVNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kaWFsb2dzL2RvbWFpbi10b2dnbGVyL3Nob3ctZGlhbG9nLWRvbWFpbi10b2dnbGVyLnRzP2QyMzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhRG9tYWluVG9nZ2xlckRpYWxvZ1BhcmFtcyB7XG4gIGRvbWFpbnM6IHN0cmluZ1tdO1xuICBleHBvc2VkRG9tYWluczogc3RyaW5nW10gfCBudWxsO1xuICB0b2dnbGVEb21haW46IChkb21haW46IHN0cmluZywgdHVybk9uOiBib29sZWFuKSA9PiB2b2lkO1xuICByZXNldERvbWFpbjogKGRvbWFpbjogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgbG9hZERvbWFpblRvZ2dsZXJEaWFsb2cgPSAoKSA9PiBpbXBvcnQoXCIuL2RpYWxvZy1kb21haW4tdG9nZ2xlclwiKTtcblxuZXhwb3J0IGNvbnN0IHNob3dEb21haW5Ub2dnbGVyRGlhbG9nID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgZGlhbG9nUGFyYW1zOiBIYURvbWFpblRvZ2dsZXJEaWFsb2dQYXJhbXNcbik6IHZvaWQgPT4ge1xuICBmaXJlRXZlbnQoZWxlbWVudCwgXCJzaG93LWRpYWxvZ1wiLCB7XG4gICAgZGlhbG9nVGFnOiBcImRpYWxvZy1kb21haW4tdG9nZ2xlclwiLFxuICAgIGRpYWxvZ0ltcG9ydDogbG9hZERvbWFpblRvZ2dsZXJEaWFsb2csXG4gICAgZGlhbG9nUGFyYW1zLFxuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dialogs/domain-toggler/show-dialog-domain-toggler.ts\n");

/***/ }),

/***/ "./src/panels/config/cloud/alexa/cloud-alexa.ts":
/*!******************************************************!*\
  !*** ./src/panels/config/cloud/alexa/cloud-alexa.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__) => {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _material_mwc_list_mwc_list_item__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-list/mwc-list-item */ \"./node_modules/@material/mwc-list/mwc-list-item.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_entity_entity_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../common/entity/entity_filter */ \"./src/common/entity/entity_filter.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _components_entity_state_info__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../components/entity/state-info */ \"./src/components/entity/state-info.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_formfield__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../components/ha-formfield */ \"./src/components/ha-formfield.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_switch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/ha-switch */ \"./src/components/ha-switch.ts\");\n/* harmony import */ var _data_alexa__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../data/alexa */ \"./src/data/alexa.ts\");\n/* harmony import */ var _data_cloud__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../data/cloud */ \"./src/data/cloud.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _dialogs_domain_toggler_show_dialog_domain_toggler__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../dialogs/domain-toggler/show-dialog-domain-toggler */ \"./src/dialogs/domain-toggler/show-dialog-domain-toggler.ts\");\n/* harmony import */ var _layouts_hass_loading_screen__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layouts/hass-loading-screen */ \"./src/layouts/hass-loading-screen.ts\");\n/* harmony import */ var _layouts_hass_subpage__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layouts/hass-subpage */ \"./src/layouts/hass-subpage.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../resources/styles */ \"./src/resources/styles.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_entity_state_info__WEBPACK_IMPORTED_MODULE_9__]);\n_components_entity_state_info__WEBPACK_IMPORTED_MODULE_9__ = (__webpack_async_dependencies__.then ? await __webpack_async_dependencies__ : __webpack_async_dependencies__)[0];\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nconst mdiCheckboxMarked = \"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\";\nconst mdiCheckboxMultipleMarked = \"M22,16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H20A2,2 0 0,1 22,4V16M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16M13,14L20,7L18.59,5.59L13,11.17L9.91,8.09L8.5,9.5L13,14Z\";\nconst mdiCloseBox = \"M19,3H16.3H7.7H5A2,2 0 0,0 3,5V7.7V16.4V19A2,2 0 0,0 5,21H7.7H16.4H19A2,2 0 0,0 21,19V16.3V7.7V5A2,2 0 0,0 19,3M15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12L17,15.6L15.6,17Z\";\nconst mdiCloseBoxMultiple = \"M4 20H18V22H4C2.9 22 2 21.11 2 20V6H4V20M20.22 2H7.78C6.8 2 6 2.8 6 3.78V16.22C6 17.2 6.8 18 7.78 18H20.22C21.2 18 22 17.2 22 16.22V3.78C22 2.8 21.2 2 20.22 2M19 13.6L17.6 15L14 11.4L10.4 15L9 13.6L12.6 10L9 6.4L10.4 5L14 8.6L17.6 5L19 6.4L15.4 10L19 13.6Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_CONFIG_EXPOSE = true;\nconst IGNORE_INTERFACES = [\"Alexa.EndpointHealth\"];\n\nlet CloudAlexa = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"cloud-alexa\")], function (_initialize, _SubscribeMixin) {\n  class CloudAlexa extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: CloudAlexa,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"cloudStatus\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_entities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_entityConfigs\",\n\n      value() {\n        return {};\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_entityCategories\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_popstateSyncAttached\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_popstateReloadStatusAttached\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_isInitialExposed\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_getEntityFilterFunc\",\n\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(filter => (0,_common_entity_entity_filter__WEBPACK_IMPORTED_MODULE_7__.generateFilter)(filter.include_domains, filter.include_entities, filter.exclude_domains, filter.exclude_entities));\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (this._entities === undefined || this._entityCategories === undefined) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html` <hass-loading-screen></hass-loading-screen> `;\n        }\n\n        const emptyFilter = (0,_common_entity_entity_filter__WEBPACK_IMPORTED_MODULE_7__.isEmptyFilter)(this.cloudStatus.alexa_entities);\n\n        const filterFunc = this._getEntityFilterFunc(this.cloudStatus.alexa_entities); // We will only generate `isInitialExposed` during first render.\n        // On each subsequent render we will use the same set so that cards\n        // will not jump around when we change the exposed setting.\n\n\n        const showInExposed = this._isInitialExposed || new Set();\n        const trackExposed = this._isInitialExposed === undefined;\n        let selected = 0; // On first render we decide which cards show in which category.\n        // That way cards won't jump around when changing values.\n\n        const exposedCards = [];\n        const notExposedCards = [];\n\n        this._entities.forEach(entity => {\n          const stateObj = this.hass.states[entity.entity_id];\n          const config = this._entityConfigs[entity.entity_id] || {\n            should_expose: null\n          };\n          const isExposed = emptyFilter ? this._configIsExposed(entity.entity_id, config, this._entityCategories[entity.entity_id]) : filterFunc(entity.entity_id);\n          const isDomainExposed = emptyFilter ? this._configIsDomainExposed(entity.entity_id, this._entityCategories[entity.entity_id]) : filterFunc(entity.entity_id);\n\n          if (isExposed) {\n            selected++;\n\n            if (trackExposed) {\n              showInExposed.add(entity.entity_id);\n            }\n          }\n\n          const target = showInExposed.has(entity.entity_id) ? exposedCards : notExposedCards;\n          const iconButton = lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-icon-button\n        slot=\"trigger\"\n        class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            exposed: isExposed,\n            \"not-exposed\": !isExposed\n          })}\n        .disabled=${!emptyFilter}\n        .label=${this.hass.localize(\"ui.panel.config.cloud.alexa.expose\")}\n        .path=${config.should_expose !== null ? isExposed ? mdiCheckboxMarked : mdiCloseBox : isDomainExposed ? mdiCheckboxMultipleMarked : mdiCloseBoxMultiple}\n      ></ha-icon-button>`;\n          target.push(lit__WEBPACK_IMPORTED_MODULE_1__.html`\n        <ha-card>\n          <div class=\"card-content\">\n            <div class=\"top-line\">\n              <state-info\n                .hass=${this.hass}\n                .stateObj=${stateObj}\n                secondary-line\n                @click=${this._showMoreInfo}\n              >\n                ${entity.interfaces.filter(ifc => !IGNORE_INTERFACES.includes(ifc)).map(ifc => ifc.replace(/(Alexa.|Controller)/g, \"\")).join(\", \")}\n              </state-info>\n              ${!emptyFilter ? lit__WEBPACK_IMPORTED_MODULE_1__.html`${iconButton}` : lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-button-menu\n                    corner=\"BOTTOM_START\"\n                    .entityId=${stateObj.entity_id}\n                    @action=${this._exposeChanged}\n                  >\n                    ${iconButton}\n                    <mwc-list-item hasMeta>\n                      ${this.hass.localize(\"ui.panel.config.cloud.alexa.expose_entity\")}\n                      <ha-svg-icon\n                        class=\"exposed\"\n                        slot=\"meta\"\n                        .path=${mdiCheckboxMarked}\n                      ></ha-svg-icon>\n                    </mwc-list-item>\n                    <mwc-list-item hasMeta>\n                      ${this.hass.localize(\"ui.panel.config.cloud.alexa.dont_expose_entity\")}\n                      <ha-svg-icon\n                        class=\"not-exposed\"\n                        slot=\"meta\"\n                        .path=${mdiCloseBox}\n                      ></ha-svg-icon>\n                    </mwc-list-item>\n                    <mwc-list-item hasMeta>\n                      ${this.hass.localize(\"ui.panel.config.cloud.alexa.follow_domain\")}\n                      <ha-svg-icon\n                        class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            exposed: isDomainExposed,\n            \"not-exposed\": !isDomainExposed\n          })}\n                        slot=\"meta\"\n                        .path=${isDomainExposed ? mdiCheckboxMultipleMarked : mdiCloseBoxMultiple}\n                      ></ha-svg-icon>\n                    </mwc-list-item>\n                  </ha-button-menu>`}\n            </div>\n          </div>\n        </ha-card>\n      `);\n        });\n\n        if (trackExposed) {\n          this._isInitialExposed = showInExposed;\n        }\n\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <hass-subpage .hass=${this.hass} .narrow=${this.narrow} .header=${this.hass.localize(\"ui.panel.config.cloud.alexa.title\")}>\n        ${emptyFilter ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                <mwc-button\n                  slot=\"toolbar-icon\"\n                  @click=${this._openDomainToggler}\n                  >${this.hass.localize(\"ui.panel.config.cloud.alexa.manage_domains\")}</mwc-button\n                >\n              ` : \"\"}\n        ${!emptyFilter ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                <div class=\"banner\">\n                  ${this.hass.localize(\"ui.panel.config.cloud.alexa.banner\")}\n                </div>\n              ` : \"\"}\n          ${exposedCards.length > 0 ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                  <div class=\"header\">\n                    <h3>\n                      ${this.hass.localize(\"ui.panel.config.cloud.alexa.exposed_entities\")}\n                    </h3>\n                    ${!this.narrow ? this.hass.localize(\"ui.panel.config.cloud.alexa.exposed\", \"selected\", selected) : selected}\n                  </div>\n                  <div class=\"content\">${exposedCards}</div>\n                ` : \"\"}\n          ${notExposedCards.length > 0 ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                  <div class=\"header second\">\n                    <h3>\n                      ${this.hass.localize(\"ui.panel.config.cloud.alexa.not_exposed_entities\")}\n                    </h3>\n                    ${!this.narrow ? this.hass.localize(\"ui.panel.config.cloud.alexa.not_exposed\", \"selected\", this._entities.length - selected) : this._entities.length - selected}\n                  </div>\n                  <div class=\"content\">${notExposedCards}</div>\n                ` : \"\"}\n        </div>\n      </hass-subpage>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(CloudAlexa.prototype), \"firstUpdated\", this).call(this, changedProps);\n\n        this._fetchData();\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(CloudAlexa.prototype), \"updated\", this).call(this, changedProps);\n\n        if (changedProps.has(\"cloudStatus\")) {\n          this._entityConfigs = this.cloudStatus.prefs.alexa_entity_configs;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [(0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_17__.subscribeEntityRegistry)(this.hass.connection, entries => {\n          const categories = {};\n\n          for (const entry of entries) {\n            categories[entry.entity_id] = entry.entity_category;\n          }\n\n          this._entityCategories = categories;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchData\",\n      value: async function _fetchData() {\n        const entities = await (0,_data_alexa__WEBPACK_IMPORTED_MODULE_15__.fetchCloudAlexaEntities)(this.hass);\n        entities.sort((a, b) => {\n          const stateA = this.hass.states[a.entity_id];\n          const stateB = this.hass.states[b.entity_id];\n          return (0,_common_string_compare__WEBPACK_IMPORTED_MODULE_8__.stringCompare)(stateA ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_6__.computeStateName)(stateA) : a.entity_id, stateB ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_6__.computeStateName)(stateB) : b.entity_id);\n        });\n        this._entities = entities;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showMoreInfo\",\n      value: function _showMoreInfo(ev) {\n        const entityId = ev.currentTarget.stateObj.entity_id;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"hass-more-info\", {\n          entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_configIsDomainExposed\",\n      value: function _configIsDomainExposed(entityId, entityCategory) {\n        const domain = (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(entityId);\n        return this.cloudStatus.prefs.alexa_default_expose ? !entityCategory && this.cloudStatus.prefs.alexa_default_expose.includes(domain) : DEFAULT_CONFIG_EXPOSE;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_configIsExposed\",\n      value: function _configIsExposed(entityId, config, entityCategory) {\n        var _config$should_expose;\n\n        return (_config$should_expose = config.should_expose) !== null && _config$should_expose !== void 0 ? _config$should_expose : this._configIsDomainExposed(entityId, entityCategory);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_exposeChanged\",\n      value: async function _exposeChanged(ev) {\n        const entityId = ev.currentTarget.entityId;\n        let newVal = null;\n\n        switch (ev.detail.index) {\n          case 0:\n            newVal = true;\n            break;\n\n          case 1:\n            newVal = false;\n            break;\n\n          case 2:\n            newVal = null;\n            break;\n        }\n\n        await this._updateExposed(entityId, newVal);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateExposed\",\n      value: async function _updateExposed(entityId, newExposed) {\n        await this._updateConfig(entityId, {\n          should_expose: newExposed\n        });\n\n        this._ensureEntitySync();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateConfig\",\n      value: async function _updateConfig(entityId, values) {\n        const updatedConfig = await (0,_data_cloud__WEBPACK_IMPORTED_MODULE_16__.updateCloudAlexaEntityConfig)(this.hass, entityId, values);\n        this._entityConfigs = { ...this._entityConfigs,\n          [entityId]: updatedConfig\n        };\n\n        this._ensureStatusReload();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openDomainToggler\",\n      value: function _openDomainToggler() {\n        (0,_dialogs_domain_toggler_show_dialog_domain_toggler__WEBPACK_IMPORTED_MODULE_18__.showDomainTogglerDialog)(this, {\n          domains: this._entities.map(entity => (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(entity.entity_id)).filter((value, idx, self) => self.indexOf(value) === idx),\n          exposedDomains: this.cloudStatus.prefs.alexa_default_expose,\n          toggleDomain: (domain, expose) => {\n            this._updateDomainExposed(domain, expose);\n          },\n          resetDomain: domain => {\n            this._entities.forEach(entity => {\n              if ((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(entity.entity_id) === domain) {\n                this._updateExposed(entity.entity_id, null);\n              }\n            });\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateDomainExposed\",\n      value: async function _updateDomainExposed(domain, expose) {\n        const defaultExpose = this.cloudStatus.prefs.alexa_default_expose || this._entities.map(entity => (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(entity.entity_id)).filter((value, idx, self) => self.indexOf(value) === idx);\n\n        if (expose && defaultExpose.includes(domain) || !expose && !defaultExpose.includes(domain)) {\n          return;\n        }\n\n        if (expose) {\n          defaultExpose.push(domain);\n        } else {\n          defaultExpose.splice(defaultExpose.indexOf(domain), 1);\n        }\n\n        await (0,_data_cloud__WEBPACK_IMPORTED_MODULE_16__.updateCloudPref)(this.hass, {\n          alexa_default_expose: defaultExpose\n        });\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"ha-refresh-cloud-status\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_ensureStatusReload\",\n      value: function _ensureStatusReload() {\n        if (this._popstateReloadStatusAttached) {\n          return;\n        }\n\n        this._popstateReloadStatusAttached = true; // Cache parent because by the time popstate happens,\n        // this element is detached\n\n        const parent = this.parentElement;\n        window.addEventListener(\"popstate\", () => (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(parent, \"ha-refresh-cloud-status\"), {\n          once: true\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_ensureEntitySync\",\n      value: function _ensureEntitySync() {\n        if (this._popstateSyncAttached) {\n          return;\n        }\n\n        this._popstateSyncAttached = true; // Cache parent because by the time popstate happens,\n        // this element is detached\n\n        window.addEventListener(\"popstate\", () => {// We don't have anything yet.\n        }, {\n          once: true\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_22__.haStyle, lit__WEBPACK_IMPORTED_MODULE_1__.css`\n        mwc-list-item > [slot=\"meta\"] {\n          margin-left: 4px;\n        }\n        .banner {\n          color: var(--primary-text-color);\n          background-color: var(\n            --ha-card-background,\n            var(--card-background-color, white)\n          );\n          padding: 16px 8px;\n          text-align: center;\n        }\n        .content {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          grid-gap: 8px 8px;\n          padding: 8px;\n        }\n        .card-content {\n          padding-bottom: 12px;\n        }\n        state-info {\n          cursor: pointer;\n        }\n        ha-switch {\n          padding: 8px 0;\n        }\n        .top-line {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        .header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 0 16px;\n          border-bottom: 1px solid var(--divider-color);\n          background: var(--app-header-background-color);\n        }\n        .header.second {\n          border-top: 1px solid var(--divider-color);\n        }\n        .exposed {\n          color: var(--success-color);\n        }\n        .not-exposed {\n          color: var(--error-color);\n        }\n        @media all and (max-width: 450px) {\n          ha-card {\n            max-width: 100%;\n          }\n        }\n      `];\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_21__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_1__.LitElement));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9jbG91ZC9hbGV4YS9jbG91ZC1hbGV4YS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7QUFHQTtBQURBO0FBQ0E7QUFBQTs7QUFBQTtBQUFBOztBQUFBOzs7QUFBQTs7O0FBQ0E7QUFBQTtBQUFBOzs7OztBQUVBOzs7OztBQUdBO0FBQUE7QUFBQTs7Ozs7QUFFQTs7Ozs7QUFFQTs7OztBQUNBOzs7OztBQUVBOzs7Ozs7OztBQU1BOzs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7QUFJQTs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFLQTtBQUNBOzs7QUFDQTtBQUNBO0FBRUE7QUFHQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQU9BOztBQU1BO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBSUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7O0FBRUE7QUFJQTtBQUNBO0FBSUE7Ozs7QUFFQTtBQUlBOztBQUNBO0FBSUE7Ozs7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQVRBOztBQVdBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFEQTs7QUFHQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFGQTs7QUFJQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBZ0JBOzs7O0FBRUE7QUFDQTs7QUFNQTtBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBREE7QUFHQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTs7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUVBOzs7OztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUF2ZUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2Nsb3VkL2FsZXhhL2Nsb3VkLWFsZXhhLnRzPzdlODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uRGV0YWlsIH0gZnJvbSBcIkBtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1mb3VuZGF0aW9uXCI7XG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWxpc3QvbXdjLWxpc3QtaXRlbVwiO1xuaW1wb3J0IHtcbiAgbWRpQ2hlY2tib3hNYXJrZWQsXG4gIG1kaUNoZWNrYm94TXVsdGlwbGVNYXJrZWQsXG4gIG1kaUNsb3NlQm94LFxuICBtZGlDbG9zZUJveE11bHRpcGxlLFxufSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHR5cGUgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVEb21haW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlTmFtZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfbmFtZVwiO1xuaW1wb3J0IHtcbiAgRW50aXR5RmlsdGVyLFxuICBnZW5lcmF0ZUZpbHRlcixcbiAgaXNFbXB0eUZpbHRlcixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9lbnRpdHkvZW50aXR5X2ZpbHRlclwiO1xuaW1wb3J0IHsgc3RyaW5nQ29tcGFyZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vc3RyaW5nL2NvbXBhcmVcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvZW50aXR5L3N0YXRlLWluZm9cIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtYnV0dG9uLW1lbnVcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9oYS1mb3JtZmllbGRcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc3dpdGNoXCI7XG5pbXBvcnQgeyBBbGV4YUVudGl0eSwgZmV0Y2hDbG91ZEFsZXhhRW50aXRpZXMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9hbGV4YVwiO1xuaW1wb3J0IHtcbiAgQWxleGFFbnRpdHlDb25maWcsXG4gIENsb3VkUHJlZmVyZW5jZXMsXG4gIENsb3VkU3RhdHVzTG9nZ2VkSW4sXG4gIHVwZGF0ZUNsb3VkQWxleGFFbnRpdHlDb25maWcsXG4gIHVwZGF0ZUNsb3VkUHJlZixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvY2xvdWRcIjtcbmltcG9ydCB7XG4gIEVudGl0eVJlZ2lzdHJ5RW50cnksXG4gIHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5LFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9lbnRpdHlfcmVnaXN0cnlcIjtcbmltcG9ydCB7IHNob3dEb21haW5Ub2dnbGVyRGlhbG9nIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RpYWxvZ3MvZG9tYWluLXRvZ2dsZXIvc2hvdy1kaWFsb2ctZG9tYWluLXRvZ2dsZXJcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2xheW91dHMvaGFzcy1sb2FkaW5nLXNjcmVlblwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXN1YnBhZ2VcIjtcbmltcG9ydCB7IFN1YnNjcmliZU1peGluIH0gZnJvbSBcIi4uLy4uLy4uLy4uL21peGlucy9zdWJzY3JpYmUtbWl4aW5cIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3R5cGVzXCI7XG5cbmNvbnN0IERFRkFVTFRfQ09ORklHX0VYUE9TRSA9IHRydWU7XG5jb25zdCBJR05PUkVfSU5URVJGQUNFUyA9IFtcIkFsZXhhLkVuZHBvaW50SGVhbHRoXCJdO1xuXG5AY3VzdG9tRWxlbWVudChcImNsb3VkLWFsZXhhXCIpXG5jbGFzcyBDbG91ZEFsZXhhIGV4dGVuZHMgU3Vic2NyaWJlTWl4aW4oTGl0RWxlbWVudCkge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKVxuICBwdWJsaWMgY2xvdWRTdGF0dXMhOiBDbG91ZFN0YXR1c0xvZ2dlZEluO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZW50aXRpZXM/OiBBbGV4YUVudGl0eVtdO1xuXG4gIEBzdGF0ZSgpXG4gIHByaXZhdGUgX2VudGl0eUNvbmZpZ3M6IENsb3VkUHJlZmVyZW5jZXNbXCJhbGV4YV9lbnRpdHlfY29uZmlnc1wiXSA9IHt9O1xuXG4gIEBzdGF0ZSgpXG4gIHByaXZhdGUgX2VudGl0eUNhdGVnb3JpZXM/OiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIEVudGl0eVJlZ2lzdHJ5RW50cnlbXCJlbnRpdHlfY2F0ZWdvcnlcIl1cbiAgPjtcblxuICBwcml2YXRlIF9wb3BzdGF0ZVN5bmNBdHRhY2hlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX3BvcHN0YXRlUmVsb2FkU3RhdHVzQXR0YWNoZWQgPSBmYWxzZTtcblxuICBwcml2YXRlIF9pc0luaXRpYWxFeHBvc2VkPzogU2V0PHN0cmluZz47XG5cbiAgcHJpdmF0ZSBfZ2V0RW50aXR5RmlsdGVyRnVuYyA9IG1lbW9pemVPbmUoKGZpbHRlcjogRW50aXR5RmlsdGVyKSA9PlxuICAgIGdlbmVyYXRlRmlsdGVyKFxuICAgICAgZmlsdGVyLmluY2x1ZGVfZG9tYWlucyxcbiAgICAgIGZpbHRlci5pbmNsdWRlX2VudGl0aWVzLFxuICAgICAgZmlsdGVyLmV4Y2x1ZGVfZG9tYWlucyxcbiAgICAgIGZpbHRlci5leGNsdWRlX2VudGl0aWVzXG4gICAgKVxuICApO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLl9lbnRpdGllcyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2VudGl0eUNhdGVnb3JpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGh0bWxgIDxoYXNzLWxvYWRpbmctc2NyZWVuPjwvaGFzcy1sb2FkaW5nLXNjcmVlbj4gYDtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlGaWx0ZXIgPSBpc0VtcHR5RmlsdGVyKHRoaXMuY2xvdWRTdGF0dXMuYWxleGFfZW50aXRpZXMpO1xuICAgIGNvbnN0IGZpbHRlckZ1bmMgPSB0aGlzLl9nZXRFbnRpdHlGaWx0ZXJGdW5jKFxuICAgICAgdGhpcy5jbG91ZFN0YXR1cy5hbGV4YV9lbnRpdGllc1xuICAgICk7XG5cbiAgICAvLyBXZSB3aWxsIG9ubHkgZ2VuZXJhdGUgYGlzSW5pdGlhbEV4cG9zZWRgIGR1cmluZyBmaXJzdCByZW5kZXIuXG4gICAgLy8gT24gZWFjaCBzdWJzZXF1ZW50IHJlbmRlciB3ZSB3aWxsIHVzZSB0aGUgc2FtZSBzZXQgc28gdGhhdCBjYXJkc1xuICAgIC8vIHdpbGwgbm90IGp1bXAgYXJvdW5kIHdoZW4gd2UgY2hhbmdlIHRoZSBleHBvc2VkIHNldHRpbmcuXG4gICAgY29uc3Qgc2hvd0luRXhwb3NlZCA9IHRoaXMuX2lzSW5pdGlhbEV4cG9zZWQgfHwgbmV3IFNldCgpO1xuICAgIGNvbnN0IHRyYWNrRXhwb3NlZCA9IHRoaXMuX2lzSW5pdGlhbEV4cG9zZWQgPT09IHVuZGVmaW5lZDtcblxuICAgIGxldCBzZWxlY3RlZCA9IDA7XG5cbiAgICAvLyBPbiBmaXJzdCByZW5kZXIgd2UgZGVjaWRlIHdoaWNoIGNhcmRzIHNob3cgaW4gd2hpY2ggY2F0ZWdvcnkuXG4gICAgLy8gVGhhdCB3YXkgY2FyZHMgd29uJ3QganVtcCBhcm91bmQgd2hlbiBjaGFuZ2luZyB2YWx1ZXMuXG4gICAgY29uc3QgZXhwb3NlZENhcmRzOiBUZW1wbGF0ZVJlc3VsdFtdID0gW107XG4gICAgY29uc3Qgbm90RXhwb3NlZENhcmRzOiBUZW1wbGF0ZVJlc3VsdFtdID0gW107XG5cbiAgICB0aGlzLl9lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5oYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2VudGl0eUNvbmZpZ3NbZW50aXR5LmVudGl0eV9pZF0gfHwge1xuICAgICAgICBzaG91bGRfZXhwb3NlOiBudWxsLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGlzRXhwb3NlZCA9IGVtcHR5RmlsdGVyXG4gICAgICAgID8gdGhpcy5fY29uZmlnSXNFeHBvc2VkKFxuICAgICAgICAgICAgZW50aXR5LmVudGl0eV9pZCxcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eUNhdGVnb3JpZXMhW2VudGl0eS5lbnRpdHlfaWRdXG4gICAgICAgICAgKVxuICAgICAgICA6IGZpbHRlckZ1bmMoZW50aXR5LmVudGl0eV9pZCk7XG4gICAgICBjb25zdCBpc0RvbWFpbkV4cG9zZWQgPSBlbXB0eUZpbHRlclxuICAgICAgICA/IHRoaXMuX2NvbmZpZ0lzRG9tYWluRXhwb3NlZChcbiAgICAgICAgICAgIGVudGl0eS5lbnRpdHlfaWQsXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHlDYXRlZ29yaWVzIVtlbnRpdHkuZW50aXR5X2lkXVxuICAgICAgICAgIClcbiAgICAgICAgOiBmaWx0ZXJGdW5jKGVudGl0eS5lbnRpdHlfaWQpO1xuICAgICAgaWYgKGlzRXhwb3NlZCkge1xuICAgICAgICBzZWxlY3RlZCsrO1xuXG4gICAgICAgIGlmICh0cmFja0V4cG9zZWQpIHtcbiAgICAgICAgICBzaG93SW5FeHBvc2VkLmFkZChlbnRpdHkuZW50aXR5X2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSBzaG93SW5FeHBvc2VkLmhhcyhlbnRpdHkuZW50aXR5X2lkKVxuICAgICAgICA/IGV4cG9zZWRDYXJkc1xuICAgICAgICA6IG5vdEV4cG9zZWRDYXJkcztcblxuICAgICAgY29uc3QgaWNvbkJ1dHRvbiA9IGh0bWxgPGhhLWljb24tYnV0dG9uXG4gICAgICAgIHNsb3Q9XCJ0cmlnZ2VyXCJcbiAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICAgICAgZXhwb3NlZDogaXNFeHBvc2VkISxcbiAgICAgICAgICBcIm5vdC1leHBvc2VkXCI6ICFpc0V4cG9zZWQsXG4gICAgICAgIH0pfVxuICAgICAgICAuZGlzYWJsZWQ9JHshZW1wdHlGaWx0ZXJ9XG4gICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuZXhwb3NlXCIpfVxuICAgICAgICAucGF0aD0ke2NvbmZpZy5zaG91bGRfZXhwb3NlICE9PSBudWxsXG4gICAgICAgICAgPyBpc0V4cG9zZWRcbiAgICAgICAgICAgID8gbWRpQ2hlY2tib3hNYXJrZWRcbiAgICAgICAgICAgIDogbWRpQ2xvc2VCb3hcbiAgICAgICAgICA6IGlzRG9tYWluRXhwb3NlZFxuICAgICAgICAgID8gbWRpQ2hlY2tib3hNdWx0aXBsZU1hcmtlZFxuICAgICAgICAgIDogbWRpQ2xvc2VCb3hNdWx0aXBsZX1cbiAgICAgID48L2hhLWljb24tYnV0dG9uPmA7XG5cbiAgICAgIHRhcmdldC5wdXNoKGh0bWxgXG4gICAgICAgIDxoYS1jYXJkPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3AtbGluZVwiPlxuICAgICAgICAgICAgICA8c3RhdGUtaW5mb1xuICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke3N0YXRlT2JqfVxuICAgICAgICAgICAgICAgIHNlY29uZGFyeS1saW5lXG4gICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd01vcmVJbmZvfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJHtlbnRpdHkuaW50ZXJmYWNlc1xuICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaWZjKSA9PiAhSUdOT1JFX0lOVEVSRkFDRVMuaW5jbHVkZXMoaWZjKSlcbiAgICAgICAgICAgICAgICAgIC5tYXAoKGlmYykgPT4gaWZjLnJlcGxhY2UoLyhBbGV4YS58Q29udHJvbGxlcikvZywgXCJcIikpXG4gICAgICAgICAgICAgICAgICAuam9pbihcIiwgXCIpfVxuICAgICAgICAgICAgICA8L3N0YXRlLWluZm8+XG4gICAgICAgICAgICAgICR7IWVtcHR5RmlsdGVyXG4gICAgICAgICAgICAgICAgPyBodG1sYCR7aWNvbkJ1dHRvbn1gXG4gICAgICAgICAgICAgICAgOiBodG1sYDxoYS1idXR0b24tbWVudVxuICAgICAgICAgICAgICAgICAgICBjb3JuZXI9XCJCT1RUT01fU1RBUlRcIlxuICAgICAgICAgICAgICAgICAgICAuZW50aXR5SWQ9JHtzdGF0ZU9iai5lbnRpdHlfaWR9XG4gICAgICAgICAgICAgICAgICAgIEBhY3Rpb249JHt0aGlzLl9leHBvc2VDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAke2ljb25CdXR0b259XG4gICAgICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIGhhc01ldGE+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuZXhwb3NlX2VudGl0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZXhwb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwibWV0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNoZWNrYm94TWFya2VkfVxuICAgICAgICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIGhhc01ldGE+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuZG9udF9leHBvc2VfZW50aXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJub3QtZXhwb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwibWV0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNsb3NlQm94fVxuICAgICAgICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIGhhc01ldGE+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuZm9sbG93X2RvbWFpblwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VkOiBpc0RvbWFpbkV4cG9zZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibm90LWV4cG9zZWRcIjogIWlzRG9tYWluRXhwb3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdD1cIm1ldGFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHtpc0RvbWFpbkV4cG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtZGlDaGVja2JveE11bHRpcGxlTWFya2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbWRpQ2xvc2VCb3hNdWx0aXBsZX1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuICAgICAgICAgICAgICAgICAgPC9oYS1idXR0b24tbWVudT5gfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvaGEtY2FyZD5cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaWYgKHRyYWNrRXhwb3NlZCkge1xuICAgICAgdGhpcy5faXNJbml0aWFsRXhwb3NlZCA9IHNob3dJbkV4cG9zZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGFzcy1zdWJwYWdlIC5oYXNzPSR7dGhpcy5oYXNzfSAubmFycm93PSR7XG4gICAgICB0aGlzLm5hcnJvd1xuICAgIH0gLmhlYWRlcj0ke3RoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEudGl0bGVcIil9PlxuICAgICAgICAke1xuICAgICAgICAgIGVtcHR5RmlsdGVyXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPG13Yy1idXR0b25cbiAgICAgICAgICAgICAgICAgIHNsb3Q9XCJ0b29sYmFyLWljb25cIlxuICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fb3BlbkRvbWFpblRvZ2dsZXJ9XG4gICAgICAgICAgICAgICAgICA+JHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5jbG91ZC5hbGV4YS5tYW5hZ2VfZG9tYWluc1wiXG4gICAgICAgICAgICAgICAgICApfTwvbXdjLWJ1dHRvblxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgIH1cbiAgICAgICAgJHtcbiAgICAgICAgICAhZW1wdHlGaWx0ZXJcbiAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFubmVyXCI+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuYmFubmVyXCIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgfVxuICAgICAgICAgICR7XG4gICAgICAgICAgICBleHBvc2VkQ2FyZHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5jbG91ZC5hbGV4YS5leHBvc2VkX2VudGl0aWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAkeyF0aGlzLm5hcnJvd1xuICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEuZXhwb3NlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj4ke2V4cG9zZWRDYXJkc308L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgIH1cbiAgICAgICAgICAke1xuICAgICAgICAgICAgbm90RXhwb3NlZENhcmRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlciBzZWNvbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmNsb3VkLmFsZXhhLm5vdF9leHBvc2VkX2VudGl0aWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAkeyF0aGlzLm5hcnJvd1xuICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuY2xvdWQuYWxleGEubm90X2V4cG9zZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5sZW5ndGggLSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZW50aXRpZXMubGVuZ3RoIC0gc2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+JHtub3RFeHBvc2VkQ2FyZHN9PC9kaXY+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYXNzLXN1YnBhZ2U+XG4gICAgYDtcbiAgfVxuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy5fZmV0Y2hEYXRhKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHMpIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJjbG91ZFN0YXR1c1wiKSkge1xuICAgICAgdGhpcy5fZW50aXR5Q29uZmlncyA9IHRoaXMuY2xvdWRTdGF0dXMucHJlZnMuYWxleGFfZW50aXR5X2NvbmZpZ3M7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGhhc3NTdWJzY3JpYmUoKTogKFxuICAgIHwgVW5zdWJzY3JpYmVGdW5jXG4gICAgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz5cbiAgKVtdIHtcbiAgICByZXR1cm4gW1xuICAgICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnkodGhpcy5oYXNzLmNvbm5lY3Rpb24sIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICBjYXRlZ29yaWVzW2VudHJ5LmVudGl0eV9pZF0gPSBlbnRyeS5lbnRpdHlfY2F0ZWdvcnk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbnRpdHlDYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICAgIH0pLFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9mZXRjaERhdGEoKSB7XG4gICAgY29uc3QgZW50aXRpZXMgPSBhd2FpdCBmZXRjaENsb3VkQWxleGFFbnRpdGllcyh0aGlzLmhhc3MpO1xuICAgIGVudGl0aWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlQSA9IHRoaXMuaGFzcy5zdGF0ZXNbYS5lbnRpdHlfaWRdO1xuICAgICAgY29uc3Qgc3RhdGVCID0gdGhpcy5oYXNzLnN0YXRlc1tiLmVudGl0eV9pZF07XG4gICAgICByZXR1cm4gc3RyaW5nQ29tcGFyZShcbiAgICAgICAgc3RhdGVBID8gY29tcHV0ZVN0YXRlTmFtZShzdGF0ZUEpIDogYS5lbnRpdHlfaWQsXG4gICAgICAgIHN0YXRlQiA/IGNvbXB1dGVTdGF0ZU5hbWUoc3RhdGVCKSA6IGIuZW50aXR5X2lkXG4gICAgICApO1xuICAgIH0pO1xuICAgIHRoaXMuX2VudGl0aWVzID0gZW50aXRpZXM7XG4gIH1cblxuICBwcml2YXRlIF9zaG93TW9yZUluZm8oZXYpIHtcbiAgICBjb25zdCBlbnRpdHlJZCA9IGV2LmN1cnJlbnRUYXJnZXQuc3RhdGVPYmouZW50aXR5X2lkO1xuICAgIGZpcmVFdmVudCh0aGlzLCBcImhhc3MtbW9yZS1pbmZvXCIsIHsgZW50aXR5SWQgfSk7XG4gIH1cblxuICBwcml2YXRlIF9jb25maWdJc0RvbWFpbkV4cG9zZWQoXG4gICAgZW50aXR5SWQ6IHN0cmluZyxcbiAgICBlbnRpdHlDYXRlZ29yeTogRW50aXR5UmVnaXN0cnlFbnRyeVtcImVudGl0eV9jYXRlZ29yeVwiXSB8IHVuZGVmaW5lZFxuICApIHtcbiAgICBjb25zdCBkb21haW4gPSBjb21wdXRlRG9tYWluKGVudGl0eUlkKTtcbiAgICByZXR1cm4gdGhpcy5jbG91ZFN0YXR1cy5wcmVmcy5hbGV4YV9kZWZhdWx0X2V4cG9zZVxuICAgICAgPyAhZW50aXR5Q2F0ZWdvcnkgJiZcbiAgICAgICAgICB0aGlzLmNsb3VkU3RhdHVzLnByZWZzLmFsZXhhX2RlZmF1bHRfZXhwb3NlLmluY2x1ZGVzKGRvbWFpbilcbiAgICAgIDogREVGQVVMVF9DT05GSUdfRVhQT1NFO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29uZmlnSXNFeHBvc2VkKFxuICAgIGVudGl0eUlkOiBzdHJpbmcsXG4gICAgY29uZmlnOiBBbGV4YUVudGl0eUNvbmZpZyxcbiAgICBlbnRpdHlDYXRlZ29yeTogRW50aXR5UmVnaXN0cnlFbnRyeVtcImVudGl0eV9jYXRlZ29yeVwiXSB8IHVuZGVmaW5lZFxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgY29uZmlnLnNob3VsZF9leHBvc2UgPz9cbiAgICAgIHRoaXMuX2NvbmZpZ0lzRG9tYWluRXhwb3NlZChlbnRpdHlJZCwgZW50aXR5Q2F0ZWdvcnkpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2V4cG9zZUNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50PEFjdGlvbkRldGFpbD4pIHtcbiAgICBjb25zdCBlbnRpdHlJZCA9IChldi5jdXJyZW50VGFyZ2V0IGFzIGFueSkuZW50aXR5SWQ7XG4gICAgbGV0IG5ld1ZhbDogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICAgIHN3aXRjaCAoZXYuZGV0YWlsLmluZGV4KSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIG5ld1ZhbCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBuZXdWYWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG5ld1ZhbCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLl91cGRhdGVFeHBvc2VkKGVudGl0eUlkLCBuZXdWYWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfdXBkYXRlRXhwb3NlZChlbnRpdHlJZDogc3RyaW5nLCBuZXdFeHBvc2VkOiBib29sZWFuIHwgbnVsbCkge1xuICAgIGF3YWl0IHRoaXMuX3VwZGF0ZUNvbmZpZyhlbnRpdHlJZCwge1xuICAgICAgc2hvdWxkX2V4cG9zZTogbmV3RXhwb3NlZCxcbiAgICB9KTtcbiAgICB0aGlzLl9lbnN1cmVFbnRpdHlTeW5jKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF91cGRhdGVDb25maWcoZW50aXR5SWQ6IHN0cmluZywgdmFsdWVzOiBBbGV4YUVudGl0eUNvbmZpZykge1xuICAgIGNvbnN0IHVwZGF0ZWRDb25maWcgPSBhd2FpdCB1cGRhdGVDbG91ZEFsZXhhRW50aXR5Q29uZmlnKFxuICAgICAgdGhpcy5oYXNzLFxuICAgICAgZW50aXR5SWQsXG4gICAgICB2YWx1ZXNcbiAgICApO1xuICAgIHRoaXMuX2VudGl0eUNvbmZpZ3MgPSB7XG4gICAgICAuLi50aGlzLl9lbnRpdHlDb25maWdzLFxuICAgICAgW2VudGl0eUlkXTogdXBkYXRlZENvbmZpZyxcbiAgICB9O1xuICAgIHRoaXMuX2Vuc3VyZVN0YXR1c1JlbG9hZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb3BlbkRvbWFpblRvZ2dsZXIoKSB7XG4gICAgc2hvd0RvbWFpblRvZ2dsZXJEaWFsb2codGhpcywge1xuICAgICAgZG9tYWluczogdGhpcy5fZW50aXRpZXMhLm1hcCgoZW50aXR5KSA9PlxuICAgICAgICBjb21wdXRlRG9tYWluKGVudGl0eS5lbnRpdHlfaWQpXG4gICAgICApLmZpbHRlcigodmFsdWUsIGlkeCwgc2VsZikgPT4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaWR4KSxcbiAgICAgIGV4cG9zZWREb21haW5zOiB0aGlzLmNsb3VkU3RhdHVzLnByZWZzLmFsZXhhX2RlZmF1bHRfZXhwb3NlLFxuICAgICAgdG9nZ2xlRG9tYWluOiAoZG9tYWluLCBleHBvc2UpID0+IHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRG9tYWluRXhwb3NlZChkb21haW4sIGV4cG9zZSk7XG4gICAgICB9LFxuICAgICAgcmVzZXREb21haW46IChkb21haW4pID0+IHtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMhLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgICAgIGlmIChjb21wdXRlRG9tYWluKGVudGl0eS5lbnRpdHlfaWQpID09PSBkb21haW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUV4cG9zZWQoZW50aXR5LmVudGl0eV9pZCwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF91cGRhdGVEb21haW5FeHBvc2VkKGRvbWFpbjogc3RyaW5nLCBleHBvc2U6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBkZWZhdWx0RXhwb3NlID1cbiAgICAgIHRoaXMuY2xvdWRTdGF0dXMucHJlZnMuYWxleGFfZGVmYXVsdF9leHBvc2UgfHxcbiAgICAgIHRoaXMuX2VudGl0aWVzIS5tYXAoKGVudGl0eSkgPT4gY29tcHV0ZURvbWFpbihlbnRpdHkuZW50aXR5X2lkKSkuZmlsdGVyKFxuICAgICAgICAodmFsdWUsIGlkeCwgc2VsZikgPT4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaWR4XG4gICAgICApO1xuXG4gICAgaWYgKFxuICAgICAgKGV4cG9zZSAmJiBkZWZhdWx0RXhwb3NlLmluY2x1ZGVzKGRvbWFpbikpIHx8XG4gICAgICAoIWV4cG9zZSAmJiAhZGVmYXVsdEV4cG9zZS5pbmNsdWRlcyhkb21haW4pKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChleHBvc2UpIHtcbiAgICAgIGRlZmF1bHRFeHBvc2UucHVzaChkb21haW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0RXhwb3NlLnNwbGljZShkZWZhdWx0RXhwb3NlLmluZGV4T2YoZG9tYWluKSwgMSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdXBkYXRlQ2xvdWRQcmVmKHRoaXMuaGFzcyEsIHtcbiAgICAgIGFsZXhhX2RlZmF1bHRfZXhwb3NlOiBkZWZhdWx0RXhwb3NlLFxuICAgIH0pO1xuICAgIGZpcmVFdmVudCh0aGlzLCBcImhhLXJlZnJlc2gtY2xvdWQtc3RhdHVzXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZW5zdXJlU3RhdHVzUmVsb2FkKCkge1xuICAgIGlmICh0aGlzLl9wb3BzdGF0ZVJlbG9hZFN0YXR1c0F0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BvcHN0YXRlUmVsb2FkU3RhdHVzQXR0YWNoZWQgPSB0cnVlO1xuICAgIC8vIENhY2hlIHBhcmVudCBiZWNhdXNlIGJ5IHRoZSB0aW1lIHBvcHN0YXRlIGhhcHBlbnMsXG4gICAgLy8gdGhpcyBlbGVtZW50IGlzIGRldGFjaGVkXG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50ITtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicG9wc3RhdGVcIixcbiAgICAgICgpID0+IGZpcmVFdmVudChwYXJlbnQsIFwiaGEtcmVmcmVzaC1jbG91ZC1zdGF0dXNcIiksXG4gICAgICB7IG9uY2U6IHRydWUgfVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9lbnN1cmVFbnRpdHlTeW5jKCkge1xuICAgIGlmICh0aGlzLl9wb3BzdGF0ZVN5bmNBdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wb3BzdGF0ZVN5bmNBdHRhY2hlZCA9IHRydWU7XG4gICAgLy8gQ2FjaGUgcGFyZW50IGJlY2F1c2UgYnkgdGhlIHRpbWUgcG9wc3RhdGUgaGFwcGVucyxcbiAgICAvLyB0aGlzIGVsZW1lbnQgaXMgZGV0YWNoZWRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicG9wc3RhdGVcIixcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSBhbnl0aGluZyB5ZXQuXG4gICAgICB9LFxuICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICBtd2MtbGlzdC1pdGVtID4gW3Nsb3Q9XCJtZXRhXCJdIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5iYW5uZXIge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgICAgICAgIC0taGEtY2FyZC1iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgdmFyKC0tY2FyZC1iYWNrZ3JvdW5kLWNvbG9yLCB3aGl0ZSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHggOHB4O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcbiAgICAgICAgICBncmlkLWdhcDogOHB4IDhweDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDEycHg7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUtaW5mbyB7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB9XG4gICAgICAgIGhhLXN3aXRjaCB7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnRvcC1saW5lIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgcGFkZGluZzogMCAxNnB4O1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtaGVhZGVyLWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIuc2Vjb25kIHtcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgLmV4cG9zZWQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICAubm90LWV4cG9zZWQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgQG1lZGlhIGFsbCBhbmQgKG1heC13aWR0aDogNDUwcHgpIHtcbiAgICAgICAgICBoYS1jYXJkIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiY2xvdWQtYWxleGFcIjogQ2xvdWRBbGV4YTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/cloud/alexa/cloud-alexa.ts\n");

/***/ })

}]);